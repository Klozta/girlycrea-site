{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/LoadingSpinner.tsx"],"sourcesContent":["/**\n * Spinner de chargement réutilisable\n */\n'use client';\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nexport function LoadingSpinner({ size = 'md', className = '' }: LoadingSpinnerProps) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  // Normaliser className pour éviter les différences serveur/client\n  const normalizedClassName = className ? className.trim() : '';\n  const divClassName = normalizedClassName\n    ? `flex items-center justify-center ${normalizedClassName}`\n    : 'flex items-center justify-center';\n\n  return (\n    <div className={divClassName}>\n      <svg\n        className={`animate-spin ${sizeClasses[size]} text-primary-600`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          strokeWidth=\"4\"\n        />\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        />\n      </svg>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AACD;;AAOO,SAAS,eAAe,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAuB;IACjF,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,kEAAkE;IAClE,MAAM,sBAAsB,YAAY,UAAU,IAAI,KAAK;IAC3D,MAAM,eAAe,sBACjB,CAAC,iCAAiC,EAAE,qBAAqB,GACzD;IAEJ,qBACE,6LAAC;QAAI,WAAW;kBACd,cAAA,6LAAC;YACC,WAAW,CAAC,aAAa,EAAE,WAAW,CAAC,KAAK,CAAC,iBAAiB,CAAC;YAC/D,OAAM;YACN,MAAK;YACL,SAAQ;;8BAER,6LAAC;oBACC,WAAU;oBACV,IAAG;oBACH,IAAG;oBACH,GAAE;oBACF,QAAO;oBACP,aAAY;;;;;;8BAEd,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,GAAE;;;;;;;;;;;;;;;;;AAKZ;KArCgB"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/LoadingSkeleton.tsx"],"sourcesContent":["/**\n * Composants de skeleton loading pour meilleure UX perçue\n */\n'use client';\n\nexport function ProductCardSkeleton() {\n  return (\n    <div className=\"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 overflow-hidden animate-pulse\">\n      <div className=\"aspect-square bg-gray-200 dark:bg-gray-700\" />\n      <div className=\"p-4 space-y-3\">\n        <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\" />\n        <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\" />\n        <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/3\" />\n      </div>\n    </div>\n  );\n}\n\nexport function CartItemSkeleton() {\n  return (\n    <div className=\"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 p-4 animate-pulse\">\n      <div className=\"flex gap-4\">\n        <div className=\"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded\" />\n        <div className=\"flex-1 space-y-2\">\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4\" />\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\" />\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport function OrderCardSkeleton() {\n  return (\n    <div className=\"bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800 p-6 animate-pulse\">\n      <div className=\"space-y-4\">\n        <div className=\"flex justify-between items-start\">\n          <div className=\"space-y-2 flex-1\">\n            <div className=\"h-5 bg-gray-200 dark:bg-gray-700 rounded w-1/3\" />\n            <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4\" />\n          </div>\n          <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-20\" />\n        </div>\n        <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full\" />\n        <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-2/3\" />\n      </div>\n    </div>\n  );\n}\n\nexport function TableRowSkeleton({ cols = 5 }: { cols?: number }) {\n  return (\n    <tr className=\"animate-pulse\">\n      {Array.from({ length: cols }).map((_, i) => (\n        <td key={i} className=\"px-6 py-4\">\n          <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-full\" />\n        </td>\n      ))}\n    </tr>\n  );\n}\n\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;AACD;;AAEO,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;;;;;0BACf,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB;KAXgB;AAaT,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKzB;MAbgB;AAeT,SAAS;IACd,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;;;;;;;;;;;sCAEjB,6LAAC;4BAAI,WAAU;;;;;;;;;;;;8BAEjB,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAIvB;MAhBgB;AAkBT,SAAS,iBAAiB,EAAE,OAAO,CAAC,EAAqB;IAC9D,qBACE,6LAAC;QAAG,WAAU;kBACX,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,6LAAC;gBAAW,WAAU;0BACpB,cAAA,6LAAC;oBAAI,WAAU;;;;;;eADR;;;;;;;;;;AAMjB;MAVgB"}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/hooks/useProducts.ts"],"sourcesContent":["/**\n * Hook pour récupérer les produits avec cache SWR\n */\n'use client';\n\nimport { API_URL } from '@/lib/utils/api';\nimport useSWR from 'swr';\n\nexport interface Product {\n  id: string;\n  title: string;\n  description: string | null;\n  price: number;\n  category: string | null;\n  stock: number;\n  images: string[];\n  tags: string[];\n  created_at: string;\n  updated_at: string;\n  is_deleted: boolean;\n}\n\ninterface ProductsResponse {\n  products: Product[];\n  pagination?: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nconst fetcher = async (url: string): Promise<ProductsResponse> => {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Erreur lors du chargement des produits');\n  }\n  const data = await response.json();\n  // Gérer les deux formats de réponse possibles\n  if (Array.isArray(data)) {\n    return { products: data };\n  }\n  return data;\n};\n\nexport function useProducts(options?: {\n  limit?: number;\n  sort?: string;\n  category?: string;\n  search?: string;\n}) {\n  const params = new URLSearchParams();\n  if (options?.limit) params.append('limit', options.limit.toString());\n  if (options?.sort) params.append('sort', options.sort);\n  if (options?.category) params.append('category', options.category);\n  if (options?.search) params.append('search', options.search);\n\n  const endpoint = params.toString()\n    ? `${API_URL}/products?${params.toString()}`\n    : `${API_URL}/products`;\n\n  const { data, error, isLoading, mutate } = useSWR<ProductsResponse>(\n    endpoint,\n    fetcher,\n    {\n      revalidateOnFocus: false, // Ne pas revalider automatiquement au focus\n      revalidateOnReconnect: true, // Revalider après reconnexion\n      dedupingInterval: 5000, // Déduplication des requêtes pendant 5s\n      refreshInterval: 0, // Pas de refresh automatique\n    }\n  );\n\n  return {\n    products: data?.products || [],\n    pagination: data?.pagination,\n    isLoading,\n    isError: error,\n    error: error?.message,\n    mutate, // Permet de revalider manuellement\n  };\n}\n\nexport function useFeaturedProducts(limit: number = 8) {\n  return useProducts({ limit, sort: 'popular' });\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AAGD;AACA;;AAHA;;;AA6BA,MAAM,UAAU,OAAO;IACrB,MAAM,WAAW,MAAM,MAAM;IAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,8CAA8C;IAC9C,IAAI,MAAM,OAAO,CAAC,OAAO;QACvB,OAAO;YAAE,UAAU;QAAK;IAC1B;IACA,OAAO;AACT;AAEO,SAAS,YAAY,OAK3B;;IACC,MAAM,SAAS,IAAI;IACnB,IAAI,SAAS,OAAO,OAAO,MAAM,CAAC,SAAS,QAAQ,KAAK,CAAC,QAAQ;IACjE,IAAI,SAAS,MAAM,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI;IACrD,IAAI,SAAS,UAAU,OAAO,MAAM,CAAC,YAAY,QAAQ,QAAQ;IACjE,IAAI,SAAS,QAAQ,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM;IAE3D,MAAM,WAAW,OAAO,QAAQ,KAC5B,GAAG,iIAAO,CAAC,UAAU,EAAE,OAAO,QAAQ,IAAI,GAC1C,GAAG,iIAAO,CAAC,SAAS,CAAC;IAEzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,IAAA,4KAAM,EAC/C,UACA,SACA;QACE,mBAAmB;QACnB,uBAAuB;QACvB,kBAAkB;QAClB,iBAAiB;IACnB;IAGF,OAAO;QACL,UAAU,MAAM,YAAY,EAAE;QAC9B,YAAY,MAAM;QAClB;QACA,SAAS;QACT,OAAO,OAAO;QACd;IACF;AACF;GAnCgB;;QAgB6B,4KAAM;;;AAqB5C,SAAS,oBAAoB,QAAgB,CAAC;;IACnD,OAAO,YAAY;QAAE;QAAO,MAAM;IAAU;AAC9C;IAFgB;;QACP"}},
    {"offset": {"line": 378, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/products/components/AccessibleFilterSidebar.tsx"],"sourcesContent":["/**\n * FilterSidebar accessible avec navigation clavier\n */\n'use client';\n\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useEffect, useRef, useState } from 'react';\n\ninterface AccessibleFilterSidebarProps {\n  categories: string[];\n}\n\nexport function AccessibleFilterSidebar({ categories }: AccessibleFilterSidebarProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const firstCheckboxRef = useRef<HTMLInputElement>(null);\n\n  const [selectedCategories, setSelectedCategories] = useState<string[]>(\n    searchParams.get('category')?.split(',').filter(Boolean) || []\n  );\n  const [priceMin, setPriceMin] = useState(searchParams.get('price_min') || '');\n  const [priceMax, setPriceMax] = useState(searchParams.get('price_max') || '');\n  const [stockStatus, setStockStatus] = useState<string>(() => {\n    const stockStatusParam = searchParams.get('stock_status');\n    if (stockStatusParam) return stockStatusParam;\n    if (searchParams.get('stock') === 'true') return 'in_stock';\n    return 'any';\n  });\n  const [selectedTags, setSelectedTags] = useState<string[]>(\n    searchParams.get('tags')?.split(',').filter(Boolean) || []\n  );\n  const [availableTags, setAvailableTags] = useState<string[]>([]);\n  const [loadingTags, setLoadingTags] = useState(false);\n\n  // Charger les tags disponibles\n  useEffect(() => {\n    const fetchTags = async () => {\n      setLoadingTags(true);\n      try {\n        const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api';\n        const response = await fetch(`${API_URL}/products/tags`);\n        if (response.ok) {\n          const data = await response.json();\n          setAvailableTags(data.tags || []);\n        }\n      } catch (error) {\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Erreur chargement tags:', error);\n        }\n      } finally {\n        setLoadingTags(false);\n      }\n    };\n\n    fetchTags();\n  }, []);\n\n  // Focus management pour accessibilité\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        firstCheckboxRef.current?.focus();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  // Appliquer filtres à l'URL\n  useEffect(() => {\n    const params = new URLSearchParams(searchParams.toString());\n\n    // Reset pagination when filters change\n    params.delete('page');\n\n    if (selectedCategories.length > 0) {\n      params.set('category', selectedCategories.join(','));\n    } else {\n      params.delete('category');\n    }\n\n    if (priceMin) {\n      params.set('price_min', priceMin);\n    } else {\n      params.delete('price_min');\n    }\n\n    if (priceMax) {\n      params.set('price_max', priceMax);\n    } else {\n      params.delete('price_max');\n    }\n\n    // Stock status (nouveau format)\n    if (stockStatus && stockStatus !== 'any') {\n      params.set('stock_status', stockStatus);\n    } else {\n      params.delete('stock_status');\n    }\n    // Supprimer l'ancien paramètre stock pour compatibilité\n    params.delete('stock');\n\n    // Tags\n    if (selectedTags.length > 0) {\n      params.set('tags', selectedTags.join(','));\n    } else {\n      params.delete('tags');\n    }\n\n    router.push(`/products?${params.toString()}`);\n  }, [selectedCategories, priceMin, priceMax, stockStatus, selectedTags, router, searchParams]);\n\n  const toggleCategory = (category: string) => {\n    setSelectedCategories((prev) =>\n      prev.includes(category)\n        ? prev.filter((c) => c !== category)\n        : [...prev, category]\n    );\n  };\n\n  const toggleTag = (tag: string) => {\n    setSelectedTags((prev) =>\n      prev.includes(tag)\n        ? prev.filter((t) => t !== tag)\n        : [...prev, tag]\n    );\n  };\n\n  const resetFilters = () => {\n    setSelectedCategories([]);\n    setPriceMin('');\n    setPriceMax('');\n    setStockStatus('any');\n    setSelectedTags([]);\n    firstCheckboxRef.current?.focus();\n  };\n\n  return (\n    <aside\n      className=\"w-full md:w-64 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700\"\n      aria-label=\"Filtres produits\"\n    >\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-lg font-semibold\" id=\"filters-heading\">\n          Filtres\n        </h2>\n        <button\n          onClick={resetFilters}\n          className=\"text-sm text-primary-600 hover:text-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 rounded\"\n          aria-label=\"Réinitialiser tous les filtres\"\n        >\n          Réinitialiser\n        </button>\n      </div>\n\n      {/* Catégories */}\n      <div className=\"mb-6\">\n        <h3 className=\"font-semibold mb-3\" id=\"categories-heading\">\n          Catégories\n        </h3>\n        <div\n          className=\"space-y-2\"\n          role=\"group\"\n          aria-labelledby=\"categories-heading\"\n        >\n          {categories.map((category, index) => (\n            <label\n              key={category}\n              className=\"flex items-center gap-2 cursor-pointer hover:text-primary-600 focus-within:text-primary-600\"\n            >\n              <input\n                ref={index === 0 ? firstCheckboxRef : undefined}\n                type=\"checkbox\"\n                checked={selectedCategories.includes(category)}\n                onChange={() => toggleCategory(category)}\n                className=\"w-4 h-4 text-primary-600 rounded focus:ring-primary-500 focus:ring-2\"\n                aria-label={`Filtrer par catégorie ${category}`}\n              />\n              <span className=\"text-sm\">{category}</span>\n            </label>\n          ))}\n        </div>\n      </div>\n\n      {/* Prix */}\n      <div className=\"mb-6\">\n        <h3 className=\"font-semibold mb-3\" id=\"price-heading\">\n          Prix\n        </h3>\n        <div className=\"space-y-3\" role=\"group\" aria-labelledby=\"price-heading\">\n          <div>\n            <label htmlFor=\"price-min\" className=\"block text-sm text-gray-600 mb-1\">\n              Min (€)\n            </label>\n            <input\n              id=\"price-min\"\n              type=\"number\"\n              value={priceMin}\n              onChange={(e) => setPriceMin(e.target.value)}\n              min=\"0\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n              aria-label=\"Prix minimum en euros\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"price-max\" className=\"block text-sm text-gray-600 mb-1\">\n              Max (€)\n            </label>\n            <input\n              id=\"price-max\"\n              type=\"number\"\n              value={priceMax}\n              onChange={(e) => setPriceMax(e.target.value)}\n              min=\"0\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n              aria-label=\"Prix maximum en euros\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Disponibilité */}\n      <div className=\"mb-6\">\n        <h3 className=\"font-semibold mb-3\" id=\"availability-heading\">\n          Disponibilité\n        </h3>\n        <div className=\"space-y-2\" role=\"group\" aria-labelledby=\"availability-heading\">\n          <label className=\"flex items-center gap-2 cursor-pointer hover:text-primary-600\">\n            <input\n              type=\"radio\"\n              name=\"stock_status\"\n              value=\"any\"\n              checked={stockStatus === 'any'}\n              onChange={(e) => setStockStatus(e.target.value)}\n              className=\"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2\"\n              aria-label=\"Tous les produits\"\n            />\n            <span className=\"text-sm\">Tous</span>\n          </label>\n          <label className=\"flex items-center gap-2 cursor-pointer hover:text-primary-600\">\n            <input\n              type=\"radio\"\n              name=\"stock_status\"\n              value=\"in_stock\"\n              checked={stockStatus === 'in_stock'}\n              onChange={(e) => setStockStatus(e.target.value)}\n              className=\"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2\"\n              aria-label=\"En stock (plus de 5 unités)\"\n            />\n            <span className=\"text-sm\">En stock</span>\n          </label>\n          <label className=\"flex items-center gap-2 cursor-pointer hover:text-primary-600\">\n            <input\n              type=\"radio\"\n              name=\"stock_status\"\n              value=\"low_stock\"\n              checked={stockStatus === 'low_stock'}\n              onChange={(e) => setStockStatus(e.target.value)}\n              className=\"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2\"\n              aria-label=\"Stock faible (1-5 unités)\"\n            />\n            <span className=\"text-sm\">Stock faible (1-5)</span>\n          </label>\n          <label className=\"flex items-center gap-2 cursor-pointer hover:text-primary-600\">\n            <input\n              type=\"radio\"\n              name=\"stock_status\"\n              value=\"out_of_stock\"\n              checked={stockStatus === 'out_of_stock'}\n              onChange={(e) => setStockStatus(e.target.value)}\n              className=\"w-4 h-4 text-primary-600 focus:ring-primary-500 focus:ring-2\"\n              aria-label=\"Rupture de stock\"\n            />\n            <span className=\"text-sm\">Rupture de stock</span>\n          </label>\n        </div>\n      </div>\n\n      {/* Tags */}\n      {availableTags.length > 0 && (\n        <div className=\"mb-6\">\n          <h3 className=\"font-semibold mb-3\" id=\"tags-heading\">\n            Tags\n          </h3>\n          <div className=\"space-y-2 max-h-48 overflow-y-auto\" role=\"group\" aria-labelledby=\"tags-heading\">\n            {loadingTags ? (\n              <p className=\"text-sm text-gray-500\">Chargement...</p>\n            ) : (\n              availableTags.slice(0, 20).map((tag) => (\n                <label\n                  key={tag}\n                  className=\"flex items-center gap-2 cursor-pointer hover:text-primary-600 focus-within:text-primary-600\"\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedTags.includes(tag)}\n                    onChange={() => toggleTag(tag)}\n                    className=\"w-4 h-4 text-primary-600 rounded focus:ring-primary-500 focus:ring-2\"\n                    aria-label={`Filtrer par tag ${tag}`}\n                  />\n                  <span className=\"text-sm\">{tag}</span>\n                </label>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n    </aside>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/products/components/OptimizedSearchBar.tsx"],"sourcesContent":["/**\n * SearchBar optimisé avec debounce hook\n */\n'use client';\n\nimport { useDebounce } from '@/lib/hooks/useDebounce';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useEffect, useState } from 'react';\n\nexport function OptimizedSearchBar() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [search, setSearch] = useState(searchParams.get('search') || '');\n\n  // Debounce 300ms avec hook custom\n  const debouncedSearch = useDebounce(search, 300);\n\n  // Mettre à jour URL quand debouncedSearch change\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n\n    const params = new URLSearchParams(searchParams.toString());\n    if (debouncedSearch) {\n      params.set('search', debouncedSearch);\n    } else {\n      params.delete('search');\n    }\n    router.push(`/products?${params.toString()}`);\n  }, [debouncedSearch, router, searchParams]);\n\n  return (\n    <div className=\"relative w-full max-w-md\">\n      <input\n        type=\"text\"\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        placeholder=\"Rechercher un produit...\"\n        className=\"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n        aria-label=\"Rechercher un produit\"\n      />\n      <svg\n        className=\"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n        aria-hidden=\"true\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n        />\n      </svg>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC,aAAa,GAAG,CAAC,aAAa;IAEnE,kCAAkC;IAClC,MAAM,kBAAkB,IAAA,6IAAW,EAAC,QAAQ;IAE5C,iDAAiD;IACjD,IAAA,0KAAS;wCAAC;YACR;;YAEA,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;YACxD,IAAI,iBAAiB;gBACnB,OAAO,GAAG,CAAC,UAAU;YACvB,OAAO;gBACL,OAAO,MAAM,CAAC;YAChB;YACA,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,OAAO,QAAQ,IAAI;QAC9C;uCAAG;QAAC;QAAiB;QAAQ;KAAa;IAE1C,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gBACzC,aAAY;gBACZ,WAAU;gBACV,cAAW;;;;;;0BAEb,6LAAC;gBACC,WAAU;gBACV,MAAK;gBACL,QAAO;gBACP,SAAQ;gBACR,eAAY;0BAEZ,cAAA,6LAAC;oBACC,eAAc;oBACd,gBAAe;oBACf,aAAa;oBACb,GAAE;;;;;;;;;;;;;;;;;AAKZ;GA/CgB;;QACC,kJAAS;QACH,wJAAe;QAIZ,6IAAW;;;KANrB"}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/store/cartStoreSimple.ts"],"sourcesContent":["/**\n * Store panier simplifié sans zustand (temporaire)\n * Utilise localStorage directement\n */\n'use client';\n\nexport interface CartItem {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n  quantity: number;\n  stock: number;\n  type?: 'product' | 'course'; // Type d'item pour distinguer produits et cours\n}\n\nconst CART_KEY = 'zenflow-cart';\nconst CART_KEY_SESSION = 'zenflow-cart-session';\n\nfunction getCart(): CartItem[] {\n  if (typeof window === 'undefined') return [];\n  try {\n    // Essayer localStorage d'abord\n    const stored = localStorage.getItem(CART_KEY);\n    if (stored) {\n      const parsed = JSON.parse(stored);\n      const items = parsed.state?.items || parsed.items || [];\n      // Synchroniser avec sessionStorage (fallback)\n      try {\n        sessionStorage.setItem(CART_KEY_SESSION, JSON.stringify({ state: { items } }));\n      } catch {\n        // Ignore si sessionStorage bloqué\n      }\n      return items;\n    }\n    // Fallback: sessionStorage si localStorage vide\n    const sessionStored = sessionStorage.getItem(CART_KEY_SESSION);\n    if (sessionStored) {\n      const parsed = JSON.parse(sessionStored);\n      return parsed.state?.items || parsed.items || [];\n    }\n    return [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveCart(items: CartItem[]): void {\n  if (typeof window === 'undefined') return;\n  const payload = JSON.stringify({ state: { items } });\n  try {\n    localStorage.setItem(CART_KEY, payload);\n  } catch {\n    // Fallback: sessionStorage si localStorage bloqué\n    try {\n      sessionStorage.setItem(CART_KEY_SESSION, payload);\n    } catch {\n      // Ignore si les deux sont bloqués\n    }\n  }\n}\n\nexport const cartStoreSimple = {\n  getItems: (): CartItem[] => getCart(),\n  setItems: (items: CartItem[]): void => {\n    saveCart(items);\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new Event('storage'));\n    }\n  },\n\n  addItem: (product: Omit<CartItem, 'quantity'>): void => {\n    const items = getCart();\n    const existing = items.find((item) => item.id === product.id);\n\n    if (existing) {\n      // Pour les cours, pas de limite de stock\n      if (product.type === 'course') {\n        existing.quantity = existing.quantity + 1;\n      } else {\n        existing.quantity = Math.min(existing.quantity + 1, existing.stock);\n      }\n    } else {\n      items.push({ ...product, quantity: 1 });\n    }\n\n    saveCart(items);\n    window.dispatchEvent(new Event('storage'));\n  },\n\n  removeItem: (id: string): void => {\n    const items = getCart().filter((item) => item.id !== id);\n    saveCart(items);\n    window.dispatchEvent(new Event('storage'));\n  },\n\n  updateQuantity: (id: string, quantity: number): void => {\n    if (quantity <= 0) {\n      cartStoreSimple.removeItem(id);\n      return;\n    }\n\n    const items = getCart();\n    const item = items.find((i) => i.id === id);\n    if (item) {\n      // Pour les cours, pas de limite de stock\n      if (item.type === 'course') {\n        item.quantity = quantity;\n      } else {\n        item.quantity = Math.min(quantity, item.stock);\n      }\n      saveCart(items);\n      window.dispatchEvent(new Event('storage'));\n    }\n  },\n\n  clearCart: (): void => {\n    saveCart([]);\n    window.dispatchEvent(new Event('storage'));\n  },\n\n  getTotalItems: (): number => {\n    return getCart().reduce((total, item) => total + item.quantity, 0);\n  },\n\n  getTotalPrice: (): number => {\n    return getCart().reduce((total, item) => total + item.price * item.quantity, 0);\n  },\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1160, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/AddToCartButton.tsx"],"sourcesContent":["/**\n * Bouton \"Ajouter au panier\"\n * Toast notification + optimistic update\n */\n'use client';\n\nimport { ecommerce } from '@/lib/analytics';\nimport { cartStoreSimple } from '@/lib/store/cartStoreSimple';\nimport { useState } from 'react';\n\ninterface Product {\n  id: string;\n  title: string;\n  price: number;\n  images: string[];\n  stock: number;\n}\n\ninterface AddToCartButtonProps {\n  product: Product;\n  className?: string;\n}\n\nexport function AddToCartButton({ product, className = '' }: AddToCartButtonProps) {\n  const [isAdding, setIsAdding] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n\n  const handleAddToCart = async () => {\n    if (product.stock === 0) {\n      alert('Produit en rupture de stock');\n      return;\n    }\n\n    setIsAdding(true);\n\n    // Optimistic update\n    cartStoreSimple.addItem({\n      id: product.id,\n      title: product.title,\n      price: product.price,\n      image: product.images[0] || '/placeholder-product.jpg',\n      stock: product.stock,\n      type: 'product', // Marquer comme produit\n    });\n\n    // Analytics\n    ecommerce.addToCart(product.id, product.title, product.price, 1);\n\n    // Toast notification\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 3000);\n\n    setIsAdding(false);\n  };\n\n  return (\n    <>\n      <button\n        onClick={handleAddToCart}\n        disabled={isAdding || product.stock === 0}\n        className={`\n          ${className}\n          px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg\n          hover:bg-primary-700 active:scale-95 transition-all\n          disabled:opacity-50 disabled:cursor-not-allowed\n          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\n        `}\n        aria-label={`Ajouter ${product.title} au panier`}\n      >\n        {isAdding ? (\n          <span className=\"flex items-center gap-2\">\n            <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n                fill=\"none\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n            Ajout...\n          </span>\n        ) : product.stock === 0 ? (\n          'Rupture de stock'\n        ) : (\n          'Ajouter au panier'\n        )}\n      </button>\n\n      {showToast && (\n        <div className=\"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-slide-up\">\n          ✅ Produit ajouté au panier !\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AAGD;AACA;AACA;;;AAJA;;;;AAmBO,SAAS,gBAAgB,EAAE,OAAO,EAAE,YAAY,EAAE,EAAwB;;IAC/E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,kBAAkB;QACtB,IAAI,QAAQ,KAAK,KAAK,GAAG;YACvB,MAAM;YACN;QACF;QAEA,YAAY;QAEZ,oBAAoB;QACpB,qJAAe,CAAC,OAAO,CAAC;YACtB,IAAI,QAAQ,EAAE;YACd,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,MAAM,CAAC,EAAE,IAAI;YAC5B,OAAO,QAAQ,KAAK;YACpB,MAAM;QACR;QAEA,YAAY;QACZ,gIAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,QAAQ,KAAK,EAAE,QAAQ,KAAK,EAAE;QAE9D,qBAAqB;QACrB,aAAa;QACb,WAAW,IAAM,aAAa,QAAQ;QAEtC,YAAY;IACd;IAEA,qBACE;;0BACE,6LAAC;gBACC,SAAS;gBACT,UAAU,YAAY,QAAQ,KAAK,KAAK;gBACxC,WAAW,CAAC;UACV,EAAE,UAAU;;;;;QAKd,CAAC;gBACD,cAAY,CAAC,QAAQ,EAAE,QAAQ,KAAK,CAAC,UAAU,CAAC;0BAE/C,yBACC,6LAAC;oBAAK,WAAU;;sCACd,6LAAC;4BAAI,WAAU;4BAAuB,SAAQ;;8CAC5C,6LAAC;oCACC,WAAU;oCACV,IAAG;oCACH,IAAG;oCACH,GAAE;oCACF,QAAO;oCACP,aAAY;oCACZ,MAAK;;;;;;8CAEP,6LAAC;oCACC,WAAU;oCACV,MAAK;oCACL,GAAE;;;;;;;;;;;;wBAEA;;;;;;2BAGN,QAAQ,KAAK,KAAK,IACpB,qBAEA;;;;;;YAIH,2BACC,6LAAC;gBAAI,WAAU;0BAAsG;;;;;;;;AAM7H;GAhFgB;KAAA"}},
    {"offset": {"line": 1285, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/products/components/OptimizedProductCard.tsx"],"sourcesContent":["/**\n * ProductCard optimisé avec lazy loading et prefetch\n */\n'use client';\n\nimport { AddToCartButton } from '@/components/AddToCartButton';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useEffect, useRef, useState } from 'react';\nimport { Product } from './ProductCard';\n\ninterface OptimizedProductCardProps {\n  product: Product;\n  priority?: boolean;\n}\n\nexport function OptimizedProductCard({ product, priority = false }: OptimizedProductCardProps) {\n  const [isInView, setIsInView] = useState(priority);\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (priority || isInView) return;\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInView(true);\n          observer.disconnect();\n        }\n      },\n      { rootMargin: '100px' }\n    );\n\n    if (cardRef.current) {\n      observer.observe(cardRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, [priority, isInView]);\n\n  return (\n    <div\n      ref={cardRef}\n      className=\"group hover:shadow-xl transition-all duration-300 bg-white rounded-xl overflow-hidden h-full flex flex-col\"\n    >\n      {/* Image avec lazy loading */}\n      <Link\n        href={`/products/${product.id}`}\n        className=\"relative w-full h-80 bg-gradient-to-br from-primary-50 to-accent-50\"\n        onMouseEnter={() => {\n          // Prefetch page produit au survol\n          if (typeof window !== 'undefined') {\n            const link = document.createElement('link');\n            link.rel = 'prefetch';\n            link.href = `/products/${product.id}`;\n            document.head.appendChild(link);\n          }\n        }}\n      >\n        {isInView ? (\n          <Image\n            src={product.images[0] || '/placeholder-product.jpg'}\n            alt={product.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n            placeholder=\"blur\"\n            blurDataURL=\"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA\"\n            quality={85}\n            loading={priority ? 'eager' : 'lazy'}\n            priority={priority}\n          />\n        ) : (\n          <div className=\"w-full h-full bg-gray-200 animate-pulse\" />\n        )}\n        {product.stock === 0 && (\n          <div className=\"absolute top-3 right-3 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold\">\n            Rupture\n          </div>\n        )}\n      </Link>\n\n      {/* Content */}\n      <div className=\"p-6 flex flex-col flex-grow\">\n        <h3 className=\"font-semibold text-lg line-clamp-2 leading-tight mb-2 group-hover:text-primary-600 transition-colors\">\n          {product.title}\n        </h3>\n        {product.description && (\n          <p className=\"text-sm text-gray-600 line-clamp-2 mb-4 flex-grow\">\n            {product.description}\n          </p>\n        )}\n        <div className=\"flex items-center justify-between mb-4\">\n          <span className=\"text-2xl font-bold text-emerald-600\">\n            {product.price.toFixed(2)}€\n          </span>\n          <span className=\"text-sm text-gray-500\">\n            Stock: {product.stock}\n          </span>\n        </div>\n        <AddToCartButton product={product} className=\"w-full\" />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;AACA;;;AALA;;;;;AAaO,SAAS,qBAAqB,EAAE,OAAO,EAAE,WAAW,KAAK,EAA6B;;IAC3F,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,UAAU,IAAA,uKAAM,EAAiB;IAEvC,IAAA,0KAAS;0CAAC;YACR,IAAI,YAAY,UAAU;YAE1B,MAAM,WAAW,IAAI;kDACnB,CAAC,CAAC,MAAM;oBACN,IAAI,MAAM,cAAc,EAAE;wBACxB,YAAY;wBACZ,SAAS,UAAU;oBACrB;gBACF;iDACA;gBAAE,YAAY;YAAQ;YAGxB,IAAI,QAAQ,OAAO,EAAE;gBACnB,SAAS,OAAO,CAAC,QAAQ,OAAO;YAClC;YAEA;kDAAO,IAAM,SAAS,UAAU;;QAClC;yCAAG;QAAC;QAAU;KAAS;IAEvB,qBACE,6LAAC;QACC,KAAK;QACL,WAAU;;0BAGV,6LAAC,0KAAI;gBACH,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;gBAC/B,WAAU;gBACV,cAAc;oBACZ,kCAAkC;oBAClC,wCAAmC;wBACjC,MAAM,OAAO,SAAS,aAAa,CAAC;wBACpC,KAAK,GAAG,GAAG;wBACX,KAAK,IAAI,GAAG,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;wBACrC,SAAS,IAAI,CAAC,WAAW,CAAC;oBAC5B;gBACF;;oBAEC,yBACC,6LAAC,2IAAK;wBACJ,KAAK,QAAQ,MAAM,CAAC,EAAE,IAAI;wBAC1B,KAAK,QAAQ,KAAK;wBAClB,IAAI;wBACJ,WAAU;wBACV,OAAM;wBACN,aAAY;wBACZ,aAAY;wBACZ,SAAS;wBACT,SAAS,WAAW,UAAU;wBAC9B,UAAU;;;;;6CAGZ,6LAAC;wBAAI,WAAU;;;;;;oBAEhB,QAAQ,KAAK,KAAK,mBACjB,6LAAC;wBAAI,WAAU;kCAAwF;;;;;;;;;;;;0BAO3G,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX,QAAQ,KAAK;;;;;;oBAEf,QAAQ,WAAW,kBAClB,6LAAC;wBAAE,WAAU;kCACV,QAAQ,WAAW;;;;;;kCAGxB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;;oCACb,QAAQ,KAAK,CAAC,OAAO,CAAC;oCAAG;;;;;;;0CAE5B,6LAAC;gCAAK,WAAU;;oCAAwB;oCAC9B,QAAQ,KAAK;;;;;;;;;;;;;kCAGzB,6LAAC,oJAAe;wBAAC,SAAS;wBAAS,WAAU;;;;;;;;;;;;;;;;;;AAIrD;GAxFgB;KAAA"}},
    {"offset": {"line": 1466, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/products/components/ProductGrid.tsx"],"sourcesContent":["/**\n * Grille produits responsive avec skeletons - OPTIMISÉE\n */\n'use client';\n\nimport { OptimizedProductCard } from './OptimizedProductCard';\nimport { Product } from './ProductCard';\n\ninterface ProductGridProps {\n  products: Product[];\n  isLoading?: boolean;\n}\n\nexport function ProductGrid({ products, isLoading }: ProductGridProps) {\n  if (isLoading) {\n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        {[...Array(8)].map((_, i) => (\n          <div\n            key={i}\n            className=\"bg-white rounded-xl overflow-hidden h-full animate-pulse\"\n            aria-label=\"Chargement produit\"\n          >\n            <div className=\"w-full h-80 bg-gray-200\" />\n            <div className=\"p-6 space-y-3\">\n              <div className=\"h-4 bg-gray-200 rounded w-3/4\" />\n              <div className=\"h-4 bg-gray-200 rounded w-1/2\" />\n              <div className=\"h-10 bg-gray-200 rounded\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-500 text-lg\" role=\"status\">\n          Aucun produit trouvé\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\"\n      role=\"list\"\n      aria-label=\"Liste des produits\"\n    >\n      {products.map((product, index) => (\n        <div key={product.id} role=\"listitem\">\n          <OptimizedProductCard\n            product={product}\n            priority={index < 4} // Priorité pour les 4 premiers produits\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AAFA;;;AAUO,SAAS,YAAY,EAAE,QAAQ,EAAE,SAAS,EAAoB;IACnE,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACZ;mBAAI,MAAM;aAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,6LAAC;oBAEC,WAAU;oBACV,cAAW;;sCAEX,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;;;;;8CACf,6LAAC;oCAAI,WAAU;;;;;;;;;;;;;mBARZ;;;;;;;;;;IAcf;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;gBAAwB,MAAK;0BAAS;;;;;;;;;;;IAKzD;IAEA,qBACE,6LAAC;QACC,WAAU;QACV,MAAK;QACL,cAAW;kBAEV,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,6LAAC;gBAAqB,MAAK;0BACzB,cAAA,6LAAC,iLAAoB;oBACnB,SAAS;oBACT,UAAU,QAAQ;;;;;;eAHZ,QAAQ,EAAE;;;;;;;;;;AAS5B;KAhDgB"}},
    {"offset": {"line": 1589, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/products/components/ProductsPageContent.tsx"],"sourcesContent":["/**\n * Contenu principal page produits (Client Component) - OPTIMISÉ\n */\n'use client';\n\nimport { ProductCardSkeleton } from '@/components/LoadingSkeleton';\nimport { useProducts } from '@/lib/hooks/useProducts';\nimport { API_URL } from '@/lib/utils/api';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { useEffect, useMemo, useState } from 'react';\nimport { AccessibleFilterSidebar } from './AccessibleFilterSidebar';\nimport { OptimizedSearchBar } from './OptimizedSearchBar';\nimport { Product } from './ProductCard';\nimport { ProductGrid } from './ProductGrid';\n\nexport function ProductsPageContent() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [categories, setCategories] = useState<string[]>([]);\n\n  // Récupérer les paramètres URL\n  const filters = useMemo(() => ({\n    search: searchParams.get('search') || '',\n    category: searchParams.get('category') || '',\n    price_min: searchParams.get('price_min') || '',\n    price_max: searchParams.get('price_max') || '',\n    stock: searchParams.get('stock') || '',\n    stock_status: searchParams.get('stock_status') || '',\n    tags: searchParams.get('tags') || '',\n    sort: searchParams.get('sort') || 'created_at_desc',\n    page: parseInt(searchParams.get('page') || '1'),\n    limit: 20,\n  }), [searchParams]);\n\n  // Utiliser le hook optimisé avec cache\n  const { products, isLoading, error, pagination, revalidate } = useProducts(filters);\n\n  // Charger catégories (une seule fois)\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const response = await fetch(`${API_URL}/products?limit=1000`);\n        const data = await response.json();\n        const uniqueCategories = [\n          ...new Set(\n            (data.products || [])\n              .map((p: Product) => p.category)\n              .filter((c: string | null) => c !== null)\n          ),\n        ] as string[];\n        setCategories(uniqueCategories);\n      } catch (error) {\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Erreur chargement catégories:', error);\n        }\n      }\n    };\n\n    fetchCategories();\n  }, []);\n\n  if (error) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-red-600 text-lg mb-4\">{error}</p>\n        <button\n          onClick={revalidate}\n          className=\"px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors\"\n        >\n          Réessayer\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col lg:flex-row gap-8\">\n      {/* Sidebar filtres */}\n      <div className=\"lg:w-64 flex-shrink-0\">\n        <AccessibleFilterSidebar categories={categories} />\n      </div>\n\n      {/* Contenu principal */}\n      <div className=\"flex-grow\">\n        {/* Header avec recherche et tri */}\n        <div className=\"mb-6 space-y-4\">\n          <OptimizedSearchBar />\n\n          {/* Tri */}\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n              {pagination.total} produit{pagination.total > 1 ? 's' : ''} trouvé\n              {pagination.total > 1 ? 's' : ''}\n            </p>\n            <select\n              value={filters.sort}\n              onChange={(e) => {\n                const params = new URLSearchParams(searchParams.toString());\n                params.set('sort', e.target.value);\n                router.push(`/products?${params.toString()}`);\n              }}\n              className=\"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100\"\n              aria-label=\"Trier les produits\"\n            >\n              <option value=\"created_at_desc\">Plus récents</option>\n              <option value=\"price_asc\">Prix croissant</option>\n              <option value=\"price_desc\">Prix décroissant</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Grille produits */}\n        {isLoading ? (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            {Array.from({ length: 8 }).map((_, i) => (\n              <ProductCardSkeleton key={i} />\n            ))}\n          </div>\n        ) : (\n          <ProductGrid products={products} isLoading={false} />\n        )}\n\n        {/* Pagination */}\n        {pagination.totalPages > 1 && (\n          <div className=\"mt-8 flex justify-center gap-2\" role=\"navigation\" aria-label=\"Pagination\">\n            {[...Array(pagination.totalPages)].map((_, i) => {\n              const pageNum = i + 1;\n              const params = new URLSearchParams(searchParams.toString());\n              params.set('page', pageNum.toString());\n\n              return (\n                <a\n                  key={pageNum}\n                  href={`/products?${params.toString()}`}\n                  className={`px-4 py-2 rounded-lg transition-colors ${\n                    filters.page === pageNum\n                      ? 'bg-primary-600 text-white'\n                      : 'bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-200 hover:bg-primary-50 dark:hover:bg-gray-800 border border-gray-200 dark:border-gray-800'\n                  }`}\n                  aria-label={`Page ${pageNum}`}\n                  aria-current={filters.page === pageNum ? 'page' : undefined}\n                >\n                  {pageNum}\n                </a>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}