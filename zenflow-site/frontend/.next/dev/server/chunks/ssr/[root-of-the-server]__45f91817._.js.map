{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/analytics.ts"],"sourcesContent":["/**\n * Système d'analytics et tracking\n */\n'use client';\n\n// Google Analytics (si configuré)\nconst GA_MEASUREMENT_ID = process.env.NEXT_PUBLIC_GA_ID;\n\n/**\n * Initialiser Google Analytics\n */\nexport function initAnalytics() {\n  if (typeof window === 'undefined' || !GA_MEASUREMENT_ID) {\n    return;\n  }\n\n  // Charger gtag\n  const script1 = document.createElement('script');\n  script1.async = true;\n  script1.src = `https://www.googletagmanager.com/gtag/js?id=${GA_MEASUREMENT_ID}`;\n  document.head.appendChild(script1);\n\n  const script2 = document.createElement('script');\n  script2.innerHTML = `\n    window.dataLayer = window.dataLayer || [];\n    function gtag(){dataLayer.push(arguments);}\n    gtag('js', new Date());\n    gtag('config', '${GA_MEASUREMENT_ID}');\n  `;\n  document.head.appendChild(script2);\n}\n\n/**\n * Track page view\n */\nexport function trackPageView(path: string) {\n  if (typeof window === 'undefined') return;\n\n  // Google Analytics\n  if (GA_MEASUREMENT_ID && (window as any).gtag) {\n    (window as any).gtag('config', GA_MEASUREMENT_ID, {\n      page_path: path,\n    });\n  }\n\n  // Custom tracking\n  fetch('/api/analytics/pageview', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ path, timestamp: new Date().toISOString() }),\n  }).catch(() => {}); // Ignore errors\n}\n\n/**\n * Track event\n */\nexport function trackEvent(\n  eventName: string,\n  eventParams?: Record<string, any>\n) {\n  if (typeof window === 'undefined') return;\n\n  // Google Analytics\n  if (GA_MEASUREMENT_ID && (window as any).gtag) {\n    (window as any).gtag('event', eventName, eventParams);\n  }\n\n  // Custom tracking\n  fetch('/api/analytics/event', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      event: eventName,\n      params: eventParams,\n      timestamp: new Date().toISOString(),\n    }),\n  }).catch(() => {}); // Ignore errors\n}\n\n/**\n * Récupère l'attribution stockée (UTM) pour l'inclure dans les events\n */\nfunction getAttributionParams(): Record<string, string> {\n  if (typeof window === 'undefined') return {};\n  try {\n    const stored = localStorage.getItem('zenflow_attribution');\n    if (!stored) return {};\n    const attribution = JSON.parse(stored);\n    const params: Record<string, string> = {};\n    if (attribution.utm_source) params.source = attribution.utm_source;\n    if (attribution.utm_medium) params.medium = attribution.utm_medium;\n    if (attribution.utm_campaign) params.campaign = attribution.utm_campaign;\n    if (attribution.utm_term) params.term = attribution.utm_term;\n    if (attribution.utm_content) params.content = attribution.utm_content;\n    return params;\n  } catch {\n    return {};\n  }\n}\n\n/**\n * Track e-commerce events\n */\nexport const ecommerce = {\n  viewItem: (productId: string, productName: string, price: number) => {\n    trackEvent('view_item', {\n      currency: 'EUR',\n      value: price,\n      items: [{\n        item_id: productId,\n        item_name: productName,\n        price,\n        quantity: 1,\n      }],\n      ...getAttributionParams(),\n    });\n  },\n\n  addToCart: (productId: string, productName: string, price: number, quantity: number = 1) => {\n    trackEvent('add_to_cart', {\n      currency: 'EUR',\n      value: price * quantity,\n      items: [{\n        item_id: productId,\n        item_name: productName,\n        price,\n        quantity,\n      }],\n      ...getAttributionParams(),\n    });\n  },\n\n  beginCheckout: (value: number, items: Array<{ id: string; name: string; price: number; quantity: number }>) => {\n    trackEvent('begin_checkout', {\n      currency: 'EUR',\n      value,\n      items: items.map((item) => ({\n        item_id: item.id,\n        item_name: item.name,\n        price: item.price,\n        quantity: item.quantity,\n      })),\n      ...getAttributionParams(),\n    });\n  },\n\n  purchase: (transactionId: string, value: number, items: Array<{ id: string; name: string; price: number; quantity: number }>) => {\n    trackEvent('purchase', {\n      transaction_id: transactionId,\n      currency: 'EUR',\n      value,\n      items: items.map((item) => ({\n        item_id: item.id,\n        item_name: item.name,\n        price: item.price,\n        quantity: item.quantity,\n      })),\n      ...getAttributionParams(),\n    });\n  },\n};\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;AACD;AAEA,kCAAkC;AAClC,MAAM,oBAAoB,QAAQ,GAAG,CAAC,iBAAiB;AAKhD,SAAS;IACd,wCAAyD;QACvD;IACF;;;IAEA,eAAe;IACf,MAAM;IAKN,MAAM;AAQR;AAKO,SAAS,cAAc,IAAY;IACxC,wCAAmC;;;AAerC;AAKO,SAAS,WACd,SAAiB,EACjB,WAAiC;IAEjC,wCAAmC;;;AAiBrC;AAEA;;CAEC,GACD,SAAS;IACP,wCAAmC,OAAO,CAAC;;;AAe7C;AAKO,MAAM,YAAY;IACvB,UAAU,CAAC,WAAmB,aAAqB;QACjD,WAAW,aAAa;YACtB,UAAU;YACV,OAAO;YACP,OAAO;gBAAC;oBACN,SAAS;oBACT,WAAW;oBACX;oBACA,UAAU;gBACZ;aAAE;YACF,GAAG,sBAAsB;QAC3B;IACF;IAEA,WAAW,CAAC,WAAmB,aAAqB,OAAe,WAAmB,CAAC;QACrF,WAAW,eAAe;YACxB,UAAU;YACV,OAAO,QAAQ;YACf,OAAO;gBAAC;oBACN,SAAS;oBACT,WAAW;oBACX;oBACA;gBACF;aAAE;YACF,GAAG,sBAAsB;QAC3B;IACF;IAEA,eAAe,CAAC,OAAe;QAC7B,WAAW,kBAAkB;YAC3B,UAAU;YACV;YACA,OAAO,MAAM,GAAG,CAAC,CAAC,OAAS,CAAC;oBAC1B,SAAS,KAAK,EAAE;oBAChB,WAAW,KAAK,IAAI;oBACpB,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;gBACzB,CAAC;YACD,GAAG,sBAAsB;QAC3B;IACF;IAEA,UAAU,CAAC,eAAuB,OAAe;QAC/C,WAAW,YAAY;YACrB,gBAAgB;YAChB,UAAU;YACV;YACA,OAAO,MAAM,GAAG,CAAC,CAAC,OAAS,CAAC;oBAC1B,SAAS,KAAK,EAAE;oBAChB,WAAW,KAAK,IAAI;oBACpB,OAAO,KAAK,KAAK;oBACjB,UAAU,KAAK,QAAQ;gBACzB,CAAC;YACD,GAAG,sBAAsB;QAC3B;IACF;AACF"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/AnalyticsInit.tsx"],"sourcesContent":["/**\n * Composant pour initialiser analytics\n */\n'use client';\n\nimport { useEffect } from 'react';\nimport { initAnalytics } from '@/lib/analytics';\n\nexport function AnalyticsInit() {\n  useEffect(() => {\n    initAnalytics();\n  }, []);\n\n  return null;\n}\n\n\n\n\n\n\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAGD;AACA;AAHA;;;AAKO,SAAS;IACd,IAAA,kNAAS,EAAC;QACR,IAAA,iIAAa;IACf,GAAG,EAAE;IAEL,OAAO;AACT"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/utils/attribution.ts"],"sourcesContent":["/**\n * Utilitaires pour capturer et stocker l'attribution marketing (UTM, referrer, etc.)\n */\n\nconst ATTRIBUTION_STORAGE_KEY = 'zenflow_attribution';\nconst ATTRIBUTION_TTL_MS = 30 * 24 * 60 * 60 * 1000; // 30 jours\n\nexport interface AttributionData {\n  utm_source?: string;\n  utm_medium?: string;\n  utm_campaign?: string;\n  utm_term?: string;\n  utm_content?: string;\n  referrer?: string;\n  landing_page?: string;\n  captured_at: string;\n}\n\n/**\n * Capture les paramètres UTM depuis l'URL actuelle\n */\nexport function captureAttributionFromUrl(): AttributionData | null {\n  if (typeof window === 'undefined') return null;\n\n  const params = new URLSearchParams(window.location.search);\n  const hasUtm = ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'].some(\n    (key) => params.has(key)\n  );\n\n  if (!hasUtm && !document.referrer) {\n    return null;\n  }\n\n  const attribution: AttributionData = {\n    utm_source: params.get('utm_source') || undefined,\n    utm_medium: params.get('utm_medium') || undefined,\n    utm_campaign: params.get('utm_campaign') || undefined,\n    utm_term: params.get('utm_term') || undefined,\n    utm_content: params.get('utm_content') || undefined,\n    referrer: document.referrer || undefined,\n    landing_page: window.location.pathname + window.location.search,\n    captured_at: new Date().toISOString(),\n  };\n\n  // Nettoyer les valeurs vides\n  Object.keys(attribution).forEach((key) => {\n    if (key === 'captured_at') return;\n    if (!attribution[key as keyof AttributionData]) {\n      delete attribution[key as keyof AttributionData];\n    }\n  });\n\n  return Object.keys(attribution).length > 1 ? attribution : null; // Au moins captured_at + un autre champ\n}\n\n/**\n * Stocke l'attribution dans localStorage (persiste 30 jours)\n */\nexport function storeAttribution(attribution: AttributionData | null): void {\n  if (typeof window === 'undefined' || !attribution) return;\n\n  try {\n    localStorage.setItem(ATTRIBUTION_STORAGE_KEY, JSON.stringify(attribution));\n  } catch {\n    // Ignore si localStorage indisponible\n  }\n}\n\n/**\n * Récupère l'attribution stockée (si toujours valide)\n */\nexport function getStoredAttribution(): AttributionData | null {\n  if (typeof window === 'undefined') return null;\n\n  try {\n    const stored = localStorage.getItem(ATTRIBUTION_STORAGE_KEY);\n    if (!stored) return null;\n\n    const attribution: AttributionData = JSON.parse(stored);\n    const capturedAt = new Date(attribution.captured_at);\n    const age = Date.now() - capturedAt.getTime();\n\n    // Expiré après 30 jours\n    if (age > ATTRIBUTION_TTL_MS) {\n      localStorage.removeItem(ATTRIBUTION_STORAGE_KEY);\n      return null;\n    }\n\n    return attribution;\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Capture et stocke l'attribution depuis l'URL (à appeler au chargement de page)\n */\nexport function captureAndStoreAttribution(): AttributionData | null {\n  const fromUrl = captureAttributionFromUrl();\n  if (fromUrl) {\n    storeAttribution(fromUrl);\n    return fromUrl;\n  }\n\n  // Si pas de nouveaux UTM, retourner celui stocké\n  return getStoredAttribution();\n}\n\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;AAED,MAAM,0BAA0B;AAChC,MAAM,qBAAqB,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW;AAgBzD,SAAS;IACd,wCAAmC,OAAO;;;IAE1C,MAAM;IACN,MAAM;IAQN,MAAM;AAoBR;AAKO,SAAS,iBAAiB,WAAmC;IAClE,wCAAmD;;;AAOrD;AAKO,SAAS;IACd,wCAAmC,OAAO;;;AAoB5C;AAKO,SAAS;IACd,MAAM,UAAU;IAChB,IAAI,SAAS;QACX,iBAAiB;QACjB,OAAO;IACT;IAEA,iDAAiD;IACjD,OAAO;AACT"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/AttributionCapture.tsx"],"sourcesContent":["/**\n * Composant pour capturer et stocker l'attribution marketing (UTM, referrer)\n * À placer dans le layout pour capturer dès le chargement\n */\n'use client';\n\nimport { captureAndStoreAttribution } from '@/lib/utils/attribution';\nimport { useEffect } from 'react';\n\nexport function AttributionCapture() {\n  useEffect(() => {\n    // Capturer l'attribution au chargement de page (une fois par session)\n    captureAndStoreAttribution();\n  }, []);\n\n  return null; // Composant invisible\n}\n\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAGD;AACA;AAHA;;;AAKO,SAAS;IACd,IAAA,kNAAS,EAAC;QACR,sEAAsE;QACtE,IAAA,yJAA0B;IAC5B,GAAG,EAAE;IAEL,OAAO,MAAM,sBAAsB;AACrC"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/utils/api.ts"],"sourcesContent":["/**\n * Utilitaires API partagés\n * ⚠️ DEPRECATED: Utiliser lib/api/client.ts (apiClient, apiGet, apiPost, etc.) pour timeouts et meilleure gestion erreurs\n */\nexport const API_URL = (process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api').replace(/\\/$/, '');\n\n// Vérifier que l'URL est correcte en dev\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\n  console.log('[API] URL configurée:', API_URL);\n}\n\n/**\n * @deprecated Utiliser apiClient/apiGet/apiPost depuis lib/api/client.ts pour timeouts et meilleure gestion erreurs\n */\nexport async function fetchAPI<T>(endpoint: string, options?: RequestInit & { timeout?: number }): Promise<T> {\n  const { timeout = 30000, ...restOptions } = options || {};\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), timeout);\n\n  try {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      ...restOptions,\n      signal: controller.signal,\n      headers: {\n        'Content-Type': 'application/json',\n        ...restOptions?.headers,\n      },\n      credentials: 'include',\n    });\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        message: `API Error: ${response.status} ${response.statusText}`\n      }));\n      throw new Error(errorData.message || errorData.error || `API Error: ${response.status}`);\n    }\n\n    return response.json();\n  } catch (error: any) {\n    clearTimeout(timeoutId);\n\n    // Gérer timeout\n    if (error.name === 'AbortError' || controller.signal.aborted) {\n      throw new Error(\n        `La requête a pris trop de temps (${Math.round(timeout / 1000)}s). Veuillez réessayer.`\n      );\n    }\n\n    // Améliorer le message d'erreur pour \"Failed to fetch\"\n    if (error.message === 'Failed to fetch' || error.name === 'TypeError') {\n      throw new Error(`Impossible de se connecter au serveur. Vérifiez votre connexion internet ou que le backend est démarré.`);\n    }\n    throw error;\n  }\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AACM,MAAM,UAAU,CAAC,iEAAmC,2BAA2B,EAAE,OAAO,CAAC,OAAO;AAEvG,yCAAyC;AACzC;;AAOO,eAAe,SAAY,QAAgB,EAAE,OAA4C;IAC9F,MAAM,EAAE,UAAU,KAAK,EAAE,GAAG,aAAa,GAAG,WAAW,CAAC;IACxD,MAAM,aAAa,IAAI;IACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI;IAEvD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;YACpD,GAAG,WAAW;YACd,QAAQ,WAAW,MAAM;YACzB,SAAS;gBACP,gBAAgB;gBAChB,GAAG,aAAa,OAAO;YACzB;YACA,aAAa;QACf;QAEA,aAAa;QAEb,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;oBACnD,SAAS,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,SAAS,UAAU,EAAE;gBACjE,CAAC;YACD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,UAAU,KAAK,IAAI,CAAC,WAAW,EAAE,SAAS,MAAM,EAAE;QACzF;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAY;QACnB,aAAa;QAEb,gBAAgB;QAChB,IAAI,MAAM,IAAI,KAAK,gBAAgB,WAAW,MAAM,CAAC,OAAO,EAAE;YAC5D,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,KAAK,KAAK,CAAC,UAAU,MAAM,uBAAuB,CAAC;QAE3F;QAEA,uDAAuD;QACvD,IAAI,MAAM,OAAO,KAAK,qBAAqB,MAAM,IAAI,KAAK,aAAa;YACrE,MAAM,IAAI,MAAM,CAAC,uGAAuG,CAAC;QAC3H;QACA,MAAM;IACR;AACF"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/Chatbot.tsx"],"sourcesContent":["/**\n * Composant Chatbot IA - Support Client\n * Interface de chat en temps réel avec assistant virtuel\n */\n'use client';\n\nimport { API_URL } from '@/lib/utils/api';\nimport { MessageCircle, Minimize2, Send, X } from 'lucide-react';\nimport { useEffect, useRef, useState } from 'react';\n\ninterface Message {\n  id: string;\n  role: 'user' | 'assistant';\n  content: string;\n  suggestions?: string[];\n  quickActions?: Array<{ label: string; action: string; url?: string }>;\n  timestamp: Date;\n}\n\ninterface Conversation {\n  id: string;\n  sessionId: string;\n  status: string;\n}\n\nexport default function Chatbot() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [conversationId, setConversationId] = useState<string | null>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    // Initialiser la conversation au montage\n    initializeConversation();\n  }, []);\n\n  useEffect(() => {\n    // Scroll vers le bas à chaque nouveau message\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const initializeConversation = async () => {\n    try {\n      const res = await fetch(`${API_URL}/chatbot/conversation`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({}),\n      });\n      if (res.ok) {\n        const data: Conversation = await res.json();\n        setConversationId(data.id);\n        // Charger l'historique si existe\n        loadHistory(data.id);\n      }\n    } catch (error) {\n      console.error('Erreur initialisation conversation', error);\n    }\n  };\n\n  const loadHistory = async (convId: string) => {\n    try {\n      const res = await fetch(`${API_URL}/chatbot/conversation/${convId}/history`, {\n        credentials: 'include',\n      });\n      if (res.ok) {\n        const data = await res.json();\n        const historyMessages: Message[] = (data.messages || []).map((m: any) => ({\n          id: m.id,\n          role: m.role,\n          content: m.content,\n          suggestions: m.metadata?.suggestions,\n          quickActions: m.metadata?.quickActions,\n          timestamp: new Date(m.createdAt),\n        }));\n        setMessages(historyMessages);\n      }\n    } catch (error) {\n      console.error('Erreur chargement historique', error);\n    }\n  };\n\n  const sendMessage = async (text?: string) => {\n    const messageText = text || input.trim();\n    if (!messageText || !conversationId) return;\n\n    // Ajouter message utilisateur\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      role: 'user',\n      content: messageText,\n      timestamp: new Date(),\n    };\n    setMessages((prev) => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const res = await fetch(`${API_URL}/chatbot/message`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          conversationId,\n          message: messageText,\n        }),\n      });\n\n      if (res.ok) {\n        const response = await res.json();\n        const assistantMessage: Message = {\n          id: (Date.now() + 1).toString(),\n          role: 'assistant',\n          content: response.message,\n          suggestions: response.suggestions,\n          quickActions: response.quickActions,\n          timestamp: new Date(),\n        };\n        setMessages((prev) => [...prev, assistantMessage]);\n      } else {\n        throw new Error('Erreur réponse chatbot');\n      }\n    } catch (error) {\n      const errorMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        role: 'assistant',\n        content: 'Désolé, une erreur est survenue. Veuillez réessayer ou contacter le support.',\n        timestamp: new Date(),\n      };\n      setMessages((prev) => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n      inputRef.current?.focus();\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const handleSuggestionClick = (suggestion: string) => {\n    sendMessage(suggestion);\n  };\n\n  if (!isOpen) {\n    return (\n      <button\n        onClick={() => setIsOpen(true)}\n        className=\"fixed bottom-6 right-6 bg-primary-600 text-white rounded-full p-4 shadow-lg hover:bg-primary-700 transition-all z-50\"\n        aria-label=\"Ouvrir le chat\"\n      >\n        <MessageCircle size={24} />\n      </button>\n    );\n  }\n\n  return (\n    <div\n      className={`fixed bottom-6 right-6 bg-white rounded-lg shadow-2xl z-50 flex flex-col transition-all ${\n        isMinimized ? 'w-80 h-14' : 'w-96 h-[600px]'\n      }`}\n    >\n      {/* Header */}\n      <div className=\"bg-primary-600 text-white p-4 rounded-t-lg flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <MessageCircle size={20} />\n          <span className=\"font-semibold\">Support ZenFlow</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button\n            onClick={() => setIsMinimized(!isMinimized)}\n            className=\"hover:bg-primary-700 rounded p-1 transition\"\n            aria-label={isMinimized ? 'Agrandir' : 'Réduire'}\n          >\n            <Minimize2 size={16} />\n          </button>\n          <button\n            onClick={() => setIsOpen(false)}\n            className=\"hover:bg-primary-700 rounded p-1 transition\"\n            aria-label=\"Fermer\"\n          >\n            <X size={16} />\n          </button>\n        </div>\n      </div>\n\n      {!isMinimized && (\n        <>\n          {/* Messages */}\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\n            {messages.length === 0 && (\n              <div className=\"text-center text-gray-500 py-8\">\n                <MessageCircle size={48} className=\"mx-auto mb-4 text-gray-300\" />\n                <p>Bonjour ! Je suis là pour vous aider.</p>\n                <p className=\"text-sm mt-2\">Posez-moi une question sur nos produits, commandes ou livraisons.</p>\n              </div>\n            )}\n\n            {messages.map((msg) => (\n              <div\n                key={msg.id}\n                className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-[80%] rounded-lg p-3 ${\n                    msg.role === 'user'\n                      ? 'bg-primary-600 text-white'\n                      : 'bg-white border border-gray-200 text-gray-900'\n                  }`}\n                >\n                  <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n                  {msg.suggestions && msg.suggestions.length > 0 && (\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\n                      {msg.suggestions.map((suggestion, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => handleSuggestionClick(suggestion)}\n                          className=\"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded transition\"\n                        >\n                          {suggestion}\n                        </button>\n                      ))}\n                    </div>\n                  )}\n                  {msg.quickActions && msg.quickActions.length > 0 && (\n                    <div className=\"mt-2 flex flex-wrap gap-2\">\n                      {msg.quickActions.map((action, idx) => (\n                        <a\n                          key={idx}\n                          href={action.url}\n                          className=\"text-xs bg-tech-light hover:bg-neon-cyan/20 text-neon-cyan px-2 py-1 rounded transition\"\n                        >\n                          {action.label}\n                        </a>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            ))}\n\n            {isLoading && (\n              <div className=\"flex justify-start\">\n                <div className=\"bg-white border border-gray-200 rounded-lg p-3\">\n                  <div className=\"flex gap-1\">\n                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <div ref={messagesEndRef} />\n          </div>\n\n          {/* Input */}\n          <div className=\"border-t border-gray-200 p-4 bg-white\">\n            <div className=\"flex gap-2\">\n              <input\n                ref={inputRef}\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Tapez votre message...\"\n                className=\"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                disabled={isLoading}\n              />\n              <button\n                onClick={() => sendMessage()}\n                disabled={!input.trim() || isLoading}\n                className=\"bg-primary-600 text-white rounded-lg px-4 py-2 hover:bg-primary-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition\"\n              >\n                <Send size={16} />\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 717, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/ErrorBoundary.tsx"],"sourcesContent":["/**\n * ErrorBoundary React pour capturer les erreurs et éviter crash total\n */\n'use client';\n\nimport React, { Component, type ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('[ErrorBoundary]', error, errorInfo);\n    \n    // Envoyer à Sentry si configuré\n    if (typeof window !== 'undefined' && process.env.NEXT_PUBLIC_SENTRY_DSN) {\n      try {\n        // Import dynamique pour éviter erreur si @sentry/nextjs non installé\n        import('@sentry/nextjs').then((Sentry) => {\n          Sentry.captureException(error, {\n            contexts: {\n              react: {\n                componentStack: errorInfo.componentStack,\n              },\n            },\n            tags: {\n              error_boundary: true,\n            },\n          });\n        }).catch(() => {\n          // Sentry non disponible, ignorer\n        });\n      } catch {\n        // Ignorer silencieusement\n      }\n    }\n    \n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      return (\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-4\">\n          <div className=\"max-w-lg w-full bg-white dark:bg-gray-800 rounded-lg shadow-md p-8 text-center border border-gray-200 dark:border-gray-700\">\n            <div className=\"mb-4\">\n              <svg\n                className=\"w-16 h-16 text-red-500 mx-auto\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                />\n              </svg>\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\n              Oups, une erreur est survenue\n            </h2>\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\n              {this.state.error?.message || 'Une erreur inattendue s\\'est produite.'}\n            </p>\n            <div className=\"flex gap-3 justify-center\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  this.setState({ hasError: false, error: null });\n                  window.location.reload();\n                }}\n                className=\"px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg hover:bg-primary-700 transition-colors\"\n              >\n                Recharger la page\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => window.location.href = '/'}\n                className=\"px-6 py-3 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-semibold rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors\"\n              >\n                Retour à l'accueil\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AAFA;;;AAeO,MAAM,sBAAsB,kNAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAC9C;IAEA,OAAO,yBAAyB,KAAY,EAAS;QACnD,OAAO;YAAE,UAAU;YAAM;QAAM;IACjC;IAEA,kBAAkB,KAAY,EAAE,SAA0B,EAAE;QAC1D,QAAQ,KAAK,CAAC,mBAAmB,OAAO;QAExC,gCAAgC;QAChC;;QAsBA,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;QAC5B;IACF;IAEA,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;sCAIR,8OAAC;4BAAG,WAAU;sCAA2D;;;;;;sCAGzE,8OAAC;4BAAE,WAAU;sCACV,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,WAAW;;;;;;sCAEhC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,SAAS;wCACP,IAAI,CAAC,QAAQ,CAAC;4CAAE,UAAU;4CAAO,OAAO;wCAAK;wCAC7C,OAAO,QAAQ,CAAC,MAAM;oCACxB;oCACA,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;oCACtC,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;QAOX;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF"}},
    {"offset": {"line": 858, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/Newsletter.tsx"],"sourcesContent":["/**\n * Composant Newsletter pour footer\n */\n'use client';\n\nimport { useState } from 'react';\n\nexport function Newsletter() {\n  const [email, setEmail] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    // Simuler envoi\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    setSuccess(true);\n    setEmail('');\n    setIsSubmitting(false);\n    setTimeout(() => setSuccess(false), 5000);\n  };\n\n  return (\n    <div className=\"bg-gradient-to-r from-primary-600 to-accent-600 text-white p-8 rounded-lg\">\n      <h3 className=\"text-2xl font-bold mb-2\">Restez informé</h3>\n      <p className=\"text-primary-100 mb-4\">\n        Recevez nos dernières nouveautés et offres exclusives\n      </p>\n      <form onSubmit={handleSubmit} className=\"flex gap-2\">\n        <input\n          type=\"email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Votre email\"\n          required\n          className=\"flex-1 px-4 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-white\"\n        />\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"px-6 py-2 bg-white text-primary-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50\"\n        >\n          {isSubmitting ? '...' : success ? '✓' : 'S\\'abonner'}\n        </button>\n      </form>\n      {success && (\n        <p className=\"mt-2 text-sm text-primary-100\">Merci pour votre inscription !</p>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AAFA;;;AAIO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QACnD,WAAW;QACX,SAAS;QACT,gBAAgB;QAChB,WAAW,IAAM,WAAW,QAAQ;IACtC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;0BAGrC,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,aAAY;wBACZ,QAAQ;wBACR,WAAU;;;;;;kCAEZ,8OAAC;wBACC,MAAK;wBACL,UAAU;wBACV,WAAU;kCAET,eAAe,QAAQ,UAAU,MAAM;;;;;;;;;;;;YAG3C,yBACC,8OAAC;gBAAE,WAAU;0BAAgC;;;;;;;;;;;;AAIrD"}},
    {"offset": {"line": 953, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/Footer.tsx"],"sourcesContent":["/**\n * Footer du site avec liens utiles\n */\n'use client';\n\nimport Link from 'next/link';\nimport { Newsletter } from './Newsletter';\n\nexport function Footer() {\n  const socialLinks = [\n    { name: 'Facebook', href: 'https://www.facebook.com/zenflow' },\n    { name: 'Instagram', href: 'https://www.instagram.com/zenflow' },\n  ] as const;\n\n  return (\n    <footer className=\"bg-gray-900 dark:bg-black text-gray-300 dark:text-gray-400 mt-20\">\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-8\">\n          {/* Logo & Description */}\n          <div className=\"col-span-1 md:col-span-2\">\n            <Link href=\"/\" className=\"text-2xl font-bold text-white mb-4 inline-block\">\n              ZenFlow\n            </Link>\n            <p className=\"text-gray-400 mb-4 max-w-md\">\n              Votre destination pour une sélection premium de produits soigneusement choisis.\n              Qualité et innovation au service de votre quotidien.\n            </p>\n            <div className=\"flex gap-4\">\n              {socialLinks.map((s) => (\n                <a\n                  key={s.name}\n                  href={s.href}\n                  className=\"text-gray-400 hover:text-primary-400 transition-colors\"\n                  aria-label={s.name}\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                >\n                  {s.name === 'Facebook' ? (\n                    <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n                    </svg>\n                  ) : (\n                    <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\" />\n                    </svg>\n                  )}\n                </a>\n              ))}\n            </div>\n          </div>\n\n          {/* Liens rapides */}\n          <div>\n            <h3 className=\"text-white font-semibold mb-4\">Navigation</h3>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/\" className=\"hover:text-primary-400 transition-colors\">\n                  Accueil\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/products\" className=\"hover:text-primary-400 transition-colors\">\n                  Produits\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/courses\" className=\"hover:text-primary-400 transition-colors\">\n                  Cours\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/about\" className=\"hover:text-primary-400 transition-colors\">\n                  À propos\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Support */}\n          <div>\n            <h3 className=\"text-white font-semibold mb-4\">Support</h3>\n            <ul className=\"space-y-2\">\n              <li>\n                <Link href=\"/contact\" className=\"hover:text-primary-400 transition-colors\">\n                  Contact\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/faq\" className=\"hover:text-primary-400 transition-colors\">\n                  FAQ\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/cgv\" className=\"hover:text-primary-400 transition-colors\">\n                  CGV\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/retours-remboursements\" className=\"hover:text-primary-400 transition-colors\">\n                  Retours & remboursements\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/politique-confidentialite\" className=\"hover:text-primary-400 transition-colors\">\n                  Confidentialité\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/mentions-legales\" className=\"hover:text-primary-400 transition-colors\">\n                  Mentions légales\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Newsletter */}\n        <div className=\"mt-12 max-w-2xl mx-auto\">\n          <Newsletter />\n        </div>\n\n        <div className=\"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400\">\n          <p>&copy; {new Date().getFullYear()} ZenFlow. Tous droits réservés.</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AAHA;;;;AAKO,SAAS;IACd,MAAM,cAAc;QAClB;YAAE,MAAM;YAAY,MAAM;QAAmC;QAC7D;YAAE,MAAM;YAAa,MAAM;QAAoC;KAChE;IAED,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAkD;;;;;;8CAG3E,8OAAC;oCAAE,WAAU;8CAA8B;;;;;;8CAI3C,8OAAC;oCAAI,WAAU;8CACZ,YAAY,GAAG,CAAC,CAAC,kBAChB,8OAAC;4CAEC,MAAM,EAAE,IAAI;4CACZ,WAAU;4CACV,cAAY,EAAE,IAAI;4CAClB,QAAO;4CACP,KAAI;sDAEH,EAAE,IAAI,KAAK,2BACV,8OAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAe,SAAQ;0DACnD,cAAA,8OAAC;oDAAK,GAAE;;;;;;;;;;qEAGV,8OAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAe,SAAQ;0DACnD,cAAA,8OAAC;oDAAK,GAAE;;;;;;;;;;;2CAbP,EAAE,IAAI;;;;;;;;;;;;;;;;sCAsBnB,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAI,WAAU;0DAA2C;;;;;;;;;;;sDAItE,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAY,WAAU;0DAA2C;;;;;;;;;;;sDAI9E,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAW,WAAU;0DAA2C;;;;;;;;;;;sDAI7E,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAS,WAAU;0DAA2C;;;;;;;;;;;;;;;;;;;;;;;sCAQ/E,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAC9C,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAW,WAAU;0DAA2C;;;;;;;;;;;sDAI7E,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAO,WAAU;0DAA2C;;;;;;;;;;;sDAIzE,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAO,WAAU;0DAA2C;;;;;;;;;;;sDAIzE,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAA0B,WAAU;0DAA2C;;;;;;;;;;;sDAI5F,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAA6B,WAAU;0DAA2C;;;;;;;;;;;sDAI/F,8OAAC;sDACC,cAAA,8OAAC,uKAAI;gDAAC,MAAK;gDAAoB,WAAU;0DAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAS5F,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,uIAAU;;;;;;;;;;8BAGb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;;4BAAE;4BAAQ,IAAI,OAAO,WAAW;4BAAG;;;;;;;;;;;;;;;;;;;;;;;AAK9C"}},
    {"offset": {"line": 1312, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/config/legalCatalog.ts"],"sourcesContent":["export function isLegalCatalogModeEnabled(): boolean {\n  const raw = (process.env.NEXT_PUBLIC_LEGAL_CATALOG_MODE || '').toLowerCase().trim();\n  if (raw === 'false' || raw === '0' || raw === 'off') return false;\n  if (raw === 'true' || raw === '1' || raw === 'on') return true;\n  // Fail-safe: ON en production\n  return process.env.NODE_ENV === 'production';\n}\n\n"],"names":[],"mappings":";;;;AAAO,SAAS;IACd,MAAM,MAAM,CAAC,QAAQ,GAAG,CAAC,8BAA8B,IAAI,EAAE,EAAE,WAAW,GAAG,IAAI;IACjF,IAAI,QAAQ,WAAW,QAAQ,OAAO,QAAQ,OAAO,OAAO;IAC5D,IAAI,QAAQ,UAAU,QAAQ,OAAO,QAAQ,MAAM,OAAO;IAC1D,8BAA8B;IAC9B,OAAO,oDAAyB;AAClC"}},
    {"offset": {"line": 1327, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/CartBadge.tsx"],"sourcesContent":["/**\n * Badge compteur panier pour la navigation\n * Version simplifiée sans zustand (temporaire pour test)\n */\n'use client';\n\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\n\ninterface CartBadgeProps {\n  /** Si true, ne pas wrapper dans un Link (pour éviter <a> dans <a>) */\n  noLink?: boolean;\n}\n\nexport function CartBadge({ noLink = false }: CartBadgeProps = {}) {\n  const [totalItems, setTotalItems] = useState(0);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    // Lire depuis localStorage directement\n    try {\n      const cart = localStorage.getItem('zenflow-cart');\n      if (cart) {\n        const parsed = JSON.parse(cart);\n        const items = parsed.state?.items || [];\n        const total = items.reduce((sum: number, item: any) => sum + (item.quantity || 0), 0);\n        setTotalItems(total);\n      }\n    } catch {\n      // Ignore\n    }\n\n    // Écouter les changements\n    const handleStorageChange = () => {\n      try {\n        const cart = localStorage.getItem('zenflow-cart');\n        if (cart) {\n          const parsed = JSON.parse(cart);\n          const items = parsed.state?.items || [];\n          const total = items.reduce((sum: number, item: any) => sum + (item.quantity || 0), 0);\n          setTotalItems(total);\n        }\n      } catch {\n        // Ignore\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n\n  const badgeContent = (\n    <div\n      className=\"relative inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary-100 hover:bg-primary-200 transition-colors\"\n      aria-label={mounted ? `Panier (${totalItems} articles)` : 'Panier'}\n    >\n      <svg\n        className=\"w-6 h-6 text-primary-600\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"\n        />\n      </svg>\n      {mounted && totalItems > 0 && (\n        <span className=\"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 bg-primary-600 text-white text-xs font-bold rounded-full\">\n          {totalItems > 99 ? '99+' : totalItems}\n        </span>\n      )}\n    </div>\n  );\n\n  // Si noLink est true, retourner juste le badge (pour éviter <a> dans <a>)\n  if (noLink) {\n    return badgeContent;\n  }\n\n  // Sinon, wrapper dans un Link\n  return (\n    <Link href=\"/cart\" aria-label={mounted ? `Panier (${totalItems} articles)` : 'Panier'}>\n      {badgeContent}\n    </Link>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AAGD;AACA;AAHA;;;;AAUO,SAAS,UAAU,EAAE,SAAS,KAAK,EAAkB,GAAG,CAAC,CAAC;IAC/D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,uCAAuC;QACvC,IAAI;YACF,MAAM,OAAO,aAAa,OAAO,CAAC;YAClC,IAAI,MAAM;gBACR,MAAM,SAAS,KAAK,KAAK,CAAC;gBAC1B,MAAM,QAAQ,OAAO,KAAK,EAAE,SAAS,EAAE;gBACvC,MAAM,QAAQ,MAAM,MAAM,CAAC,CAAC,KAAa,OAAc,MAAM,CAAC,KAAK,QAAQ,IAAI,CAAC,GAAG;gBACnF,cAAc;YAChB;QACF,EAAE,OAAM;QACN,SAAS;QACX;QAEA,0BAA0B;QAC1B,MAAM,sBAAsB;YAC1B,IAAI;gBACF,MAAM,OAAO,aAAa,OAAO,CAAC;gBAClC,IAAI,MAAM;oBACR,MAAM,SAAS,KAAK,KAAK,CAAC;oBAC1B,MAAM,QAAQ,OAAO,KAAK,EAAE,SAAS,EAAE;oBACvC,MAAM,QAAQ,MAAM,MAAM,CAAC,CAAC,KAAa,OAAc,MAAM,CAAC,KAAK,QAAQ,IAAI,CAAC,GAAG;oBACnF,cAAc;gBAChB;YACF,EAAE,OAAM;YACN,SAAS;YACX;QACF;QAEA,OAAO,gBAAgB,CAAC,WAAW;QACnC,OAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;IACrD,GAAG,EAAE;IAEL,MAAM,6BACJ,8OAAC;QACC,WAAU;QACV,cAAY,UAAU,CAAC,QAAQ,EAAE,WAAW,UAAU,CAAC,GAAG;;0BAE1D,8OAAC;gBACC,WAAU;gBACV,MAAK;gBACL,QAAO;gBACP,SAAQ;0BAER,cAAA,8OAAC;oBACC,eAAc;oBACd,gBAAe;oBACf,aAAa;oBACb,GAAE;;;;;;;;;;;YAGL,WAAW,aAAa,mBACvB,8OAAC;gBAAK,WAAU;0BACb,aAAa,KAAK,QAAQ;;;;;;;;;;;;IAMnC,0EAA0E;IAC1E,IAAI,QAAQ;QACV,OAAO;IACT;IAEA,8BAA8B;IAC9B,qBACE,8OAAC,uKAAI;QAAC,MAAK;QAAQ,cAAY,UAAU,CAAC,QAAQ,EAAE,WAAW,UAAU,CAAC,GAAG;kBAC1E;;;;;;AAGP"}},
    {"offset": {"line": 1432, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/contexts/DarkModeContext.tsx"],"sourcesContent":["/**\n * Contexte pour le mode sombre\n */\n'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\n\ntype DarkModeContextType = {\n  isDark: boolean;\n  toggleDarkMode: () => void;\n};\n\nconst DarkModeContext = createContext<DarkModeContextType | undefined>(undefined);\n\nexport function DarkModeProvider({ children }: { children: React.ReactNode }) {\n  const [isDark, setIsDark] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    // Vérifier localStorage et préférence système\n    const stored = localStorage.getItem('darkMode');\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n    \n    if (stored !== null) {\n      setIsDark(stored === 'true');\n    } else {\n      setIsDark(prefersDark);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) return;\n    \n    localStorage.setItem('darkMode', String(isDark));\n    \n    if (isDark) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [isDark, mounted]);\n\n  const toggleDarkMode = () => {\n    setIsDark((prev) => !prev);\n  };\n\n  return (\n    <DarkModeContext.Provider value={{ isDark, toggleDarkMode }}>\n      {children}\n    </DarkModeContext.Provider>\n  );\n}\n\nexport function useDarkMode() {\n  const context = useContext(DarkModeContext);\n  if (context === undefined) {\n    throw new Error('useDarkMode must be used within DarkModeProvider');\n  }\n  return context;\n}\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;AAGD;AAFA;;;AASA,MAAM,gCAAkB,IAAA,sNAAa,EAAkC;AAEhE,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,8CAA8C;QAC9C,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAE7E,IAAI,WAAW,MAAM;YACnB,UAAU,WAAW;QACvB,OAAO;YACL,UAAU;QACZ;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,SAAS;QAEd,aAAa,OAAO,CAAC,YAAY,OAAO;QAExC,IAAI,QAAQ;YACV,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF,GAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,iBAAiB;QACrB,UAAU,CAAC,OAAS,CAAC;IACvB;IAEA,qBACE,8OAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAQ;QAAe;kBACvD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 1498, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/DarkModeToggle.tsx"],"sourcesContent":["/**\n * Toggle pour le mode sombre\n */\n'use client';\n\nimport { useDarkMode } from '@/contexts/DarkModeContext';\n\nexport function DarkModeToggle() {\n  const { isDark, toggleDarkMode } = useDarkMode();\n\n  return (\n    <button\n      onClick={toggleDarkMode}\n      className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n      aria-label={isDark ? 'Activer le mode clair' : 'Activer le mode sombre'}\n    >\n      {isDark ? (\n        <svg className=\"w-5 h-5 text-yellow-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path\n            fillRule=\"evenodd\"\n            d=\"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      ) : (\n        <svg className=\"w-5 h-5 text-gray-700 dark:text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n          <path d=\"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z\" />\n        </svg>\n      )}\n    </button>\n  );\n}\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AAFA;;;AAIO,SAAS;IACd,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,2IAAW;IAE9C,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;QACV,cAAY,SAAS,0BAA0B;kBAE9C,uBACC,8OAAC;YAAI,WAAU;YAA0B,MAAK;YAAe,SAAQ;sBACnE,cAAA,8OAAC;gBACC,UAAS;gBACT,GAAE;gBACF,UAAS;;;;;;;;;;iCAIb,8OAAC;YAAI,WAAU;YAA2C,MAAK;YAAe,SAAQ;sBACpF,cAAA,8OAAC;gBAAK,GAAE;;;;;;;;;;;;;;;;AAKlB"}},
    {"offset": {"line": 1558, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/hooks/useDebounce.ts"],"sourcesContent":["/**\n * Hook useDebounce pour optimiser les recherches\n */\n'use client';\n\nimport { useState, useEffect } from 'react';\n\nexport function useDebounce<T>(value: T, delay: number = 300): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;AAGD;AAFA;;AAIO,SAAS,YAAe,KAAQ,EAAE,QAAgB,GAAG;IAC1D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAI;IAExD,IAAA,kNAAS,EAAC;QACR,MAAM,UAAU,WAAW;YACzB,kBAAkB;QACpB,GAAG;QAEH,OAAO;YACL,aAAa;QACf;IACF,GAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT"}},
    {"offset": {"line": 1604, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/SearchBar.tsx"],"sourcesContent":["/**\n * Barre de recherche globale dans la navigation\n */\n'use client';\n\nimport { useDebounce } from '@/lib/hooks/useDebounce';\nimport { useRouter } from 'next/navigation';\nimport { useEffect, useState } from 'react';\n\nexport function SearchBar() {\n  const [query, setQuery] = useState('');\n  const router = useRouter();\n  const debouncedQuery = useDebounce(query, 300);\n\n  useEffect(() => {\n    // Vérifier que nous sommes côté client avant d'utiliser window\n    if (typeof window === 'undefined') return;\n\n    if (debouncedQuery.length >= 2) {\n      router.push(`/search?q=${encodeURIComponent(debouncedQuery)}`);\n    } else if (debouncedQuery.length === 0 && window.location.pathname === '/search') {\n      router.push('/search');\n    }\n  }, [debouncedQuery, router]);\n\n  return (\n    // Certains plugins (ex: \"bis\") injectent des attributs (bis_skin_checked) avant hydratation React\n    // -> on supprime le warning en demandant à React d'ignorer ces mismatches\n    <div className=\"relative max-w-md w-full\" suppressHydrationWarning>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        placeholder=\"Rechercher produits, cours...\"\n        className=\"w-full px-4 py-2 pl-10 pr-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n      />\n      <svg\n        className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n      </svg>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,iBAAiB,IAAA,0IAAW,EAAC,OAAO;IAE1C,IAAA,kNAAS,EAAC;QACR,+DAA+D;QAC/D,wCAAmC;;;IAOrC,GAAG;QAAC;QAAgB;KAAO;IAE3B,OACE,kGAAkG;IAClG,0EAA0E;kBAC1E,8OAAC;QAAI,WAAU;QAA2B,wBAAwB;;0BAChE,8OAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,aAAY;gBACZ,WAAU;;;;;;0BAEZ,8OAAC;gBACC,WAAU;gBACV,MAAK;gBACL,QAAO;gBACP,SAAQ;0BAER,cAAA,8OAAC;oBAAK,eAAc;oBAAQ,gBAAe;oBAAQ,aAAa;oBAAG,GAAE;;;;;;;;;;;;;;;;;AAI7E"}},
    {"offset": {"line": 1680, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/api/refresh.ts"],"sourcesContent":["/**\n * Refresh token helper (single-flight + cooldown)\n * Empêche les boucles et rafales de /auth/refresh qui peuvent déclencher des 429.\n *\n * Note: on ne peut pas \"lire\" le cookie HTTP-only côté JS, donc on throttle côté client.\n */\nconst REFRESH_COOLDOWN_MS = 2000;\n\ntype RefreshAttemptResult = { ok: boolean; status: number; data?: unknown };\n\nlet inFlight: Promise<RefreshAttemptResult | null> | null = null;\nlet lastAttemptAt = 0;\n\nexport async function attemptAuthRefresh(apiUrl: string): Promise<RefreshAttemptResult | null> {\n  const now = Date.now();\n\n  if (inFlight) return inFlight;\n  if (now - lastAttemptAt < REFRESH_COOLDOWN_MS) return null;\n\n  lastAttemptAt = now;\n\n  inFlight = (async () => {\n    try {\n      const refreshResponse = await fetch(`${apiUrl}/auth/refresh`, {\n        method: 'POST',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({}),\n      });\n\n      let data: unknown = undefined;\n      try {\n        data = await refreshResponse.json();\n      } catch {\n        // ignore non-json\n      }\n\n      return { ok: refreshResponse.ok, status: refreshResponse.status, data };\n    } catch {\n      return { ok: false, status: 0 };\n    } finally {\n      inFlight = null;\n    }\n  })();\n\n  return inFlight;\n}\n\n\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AACD,MAAM,sBAAsB;AAI5B,IAAI,WAAwD;AAC5D,IAAI,gBAAgB;AAEb,eAAe,mBAAmB,MAAc;IACrD,MAAM,MAAM,KAAK,GAAG;IAEpB,IAAI,UAAU,OAAO;IACrB,IAAI,MAAM,gBAAgB,qBAAqB,OAAO;IAEtD,gBAAgB;IAEhB,WAAW,CAAC;QACV,IAAI;YACF,MAAM,kBAAkB,MAAM,MAAM,GAAG,OAAO,aAAa,CAAC,EAAE;gBAC5D,QAAQ;gBACR,aAAa;gBACb,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC,CAAC;YACxB;YAEA,IAAI,OAAgB;YACpB,IAAI;gBACF,OAAO,MAAM,gBAAgB,IAAI;YACnC,EAAE,OAAM;YACN,kBAAkB;YACpB;YAEA,OAAO;gBAAE,IAAI,gBAAgB,EAAE;gBAAE,QAAQ,gBAAgB,MAAM;gBAAE;YAAK;QACxE,EAAE,OAAM;YACN,OAAO;gBAAE,IAAI;gBAAO,QAAQ;YAAE;QAChC,SAAU;YACR,WAAW;QACb;IACF,CAAC;IAED,OAAO;AACT"}},
    {"offset": {"line": 1733, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/store/authStore.ts"],"sourcesContent":["/**\n * Store d'authentification (Zustand)\n * ✅ SÉCURITÉ: Les tokens sont dans cookies HTTP-only (pas localStorage)\n * Seules les données utilisateur non sensibles sont persistées\n */\nimport { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\nimport { attemptAuthRefresh } from '../api/refresh';\n\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  isAuthenticated: boolean;\n  setAuth: (user: User) => void;\n  logout: () => void;\n  checkAuth: () => Promise<boolean>;\n}\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api';\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      isAuthenticated: false,\n\n      setAuth: (user) => {\n        set({\n          user,\n          isAuthenticated: true,\n        });\n        // ✅ Les tokens sont dans cookies HTTP-only (gérés par backend)\n        // ✅ Seules les données utilisateur non sensibles sont stockées\n      },\n\n      logout: () => {\n        set({\n          user: null,\n          isAuthenticated: false,\n        });\n        // ✅ Les cookies HTTP-only sont supprimés par le backend lors du logout\n      },\n\n      checkAuth: async () => {\n        // ✅ Les cookies HTTP-only sont envoyés automatiquement par le navigateur\n        // ✅ Pas besoin de header Authorization (cookies gérés automatiquement)\n        try {\n          const response = await fetch(`${API_URL}/auth/me`, {\n            credentials: 'include', // Inclure cookies HTTP-only\n          });\n\n          if (!response.ok) {\n            // Essayer de rafraîchir le token via cookies (single-flight + throttle)\n            const refreshed = await attemptAuthRefresh(API_URL);\n            if (refreshed?.ok) {\n              // Re-tenter /me après refresh (backend met à jour les cookies)\n              const me2 = await fetch(`${API_URL}/auth/me`, { credentials: 'include' });\n              if (me2.ok) {\n                const data2 = await me2.json();\n                if (data2.user) {\n                  get().setAuth(data2.user);\n                  return true;\n                }\n              }\n            }\n            get().logout();\n            return false;\n          }\n\n          const data = await response.json();\n          set({ user: data.user, isAuthenticated: true });\n          return true;\n        } catch {\n          get().logout();\n          return false;\n        }\n      },\n    }),\n    {\n      name: 'zenflow-auth',\n      // ✅ Persister uniquement les données utilisateur (non sensibles)\n      // ✅ Les tokens restent dans cookies HTTP-only (sécurité)\n      partialize: (state) => ({\n        user: state.user,\n        // Ne pas persister isAuthenticated (vérifié via checkAuth)\n      }),\n    }\n  )\n);\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACD;AACA;AACA;;;;AAgBA,MAAM,UAAU,iEAAmC;AAE5C,MAAM,eAAe,IAAA,kKAAM,IAChC,IAAA,wJAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,MAAM;QACN,iBAAiB;QAEjB,SAAS,CAAC;YACR,IAAI;gBACF;gBACA,iBAAiB;YACnB;QACA,+DAA+D;QAC/D,+DAA+D;QACjE;QAEA,QAAQ;YACN,IAAI;gBACF,MAAM;gBACN,iBAAiB;YACnB;QACA,uEAAuE;QACzE;QAEA,WAAW;YACT,yEAAyE;YACzE,uEAAuE;YACvE,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,QAAQ,CAAC,EAAE;oBACjD,aAAa;gBACf;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,wEAAwE;oBACxE,MAAM,YAAY,MAAM,IAAA,2IAAkB,EAAC;oBAC3C,IAAI,WAAW,IAAI;wBACjB,+DAA+D;wBAC/D,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,QAAQ,CAAC,EAAE;4BAAE,aAAa;wBAAU;wBACvE,IAAI,IAAI,EAAE,EAAE;4BACV,MAAM,QAAQ,MAAM,IAAI,IAAI;4BAC5B,IAAI,MAAM,IAAI,EAAE;gCACd,MAAM,OAAO,CAAC,MAAM,IAAI;gCACxB,OAAO;4BACT;wBACF;oBACF;oBACA,MAAM,MAAM;oBACZ,OAAO;gBACT;gBAEA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI;oBAAE,MAAM,KAAK,IAAI;oBAAE,iBAAiB;gBAAK;gBAC7C,OAAO;YACT,EAAE,OAAM;gBACN,MAAM,MAAM;gBACZ,OAAO;YACT;QACF;IACF,CAAC,GACD;IACE,MAAM;IACN,iEAAiE;IACjE,yDAAyD;IACzD,YAAY,CAAC,QAAU,CAAC;YACtB,MAAM,MAAM,IAAI;QAElB,CAAC;AACH"}},
    {"offset": {"line": 1815, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/UserMenu.tsx"],"sourcesContent":["/**\n * Menu utilisateur (connexion/profil)\n */\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useAuthStore } from '@/lib/store/authStore';\n\nexport function UserMenu() {\n  const { user, isAuthenticated, checkAuth } = useAuthStore();\n  const [isOpen, setIsOpen] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    if (!isAuthenticated) {\n      checkAuth();\n    }\n  }, [isAuthenticated, checkAuth]);\n\n  if (!mounted) {\n    return (\n      <Link\n        href=\"/auth/login\"\n        className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n      >\n        Connexion\n      </Link>\n    );\n  }\n\n  if (!isAuthenticated || !user) {\n    return (\n      <Link\n        href=\"/auth/login\"\n        className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n      >\n        Connexion\n      </Link>\n    );\n  }\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center gap-2 text-gray-700 dark:text-gray-300 hover:text-pink-600 dark:hover:text-pink-400 transition-colors\"\n      >\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n        </svg>\n        <span className=\"hidden lg:inline\">{user.name || user.email}</span>\n      </button>\n\n      {isOpen && (\n        <>\n          <div\n            className=\"fixed inset-0 z-10\"\n            onClick={() => setIsOpen(false)}\n          />\n          <div className=\"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-20\">\n            <div className=\"py-2\">\n              <Link\n                href=\"/account/profile\"\n                className=\"block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                onClick={() => setIsOpen(false)}\n              >\n                Mon profil\n              </Link>\n              <Link\n                href=\"/account/orders\"\n                className=\"block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                onClick={() => setIsOpen(false)}\n              >\n                Mes commandes\n              </Link>\n              <div className=\"border-t border-gray-200 dark:border-gray-700 my-1\" />\n              <button\n                onClick={() => {\n                  useAuthStore.getState().logout();\n                  setIsOpen(false);\n                }}\n                className=\"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\n              >\n                Déconnexion\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,IAAA,yIAAY;IACzD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,IAAI,CAAC,iBAAiB;YACpB;QACF;IACF,GAAG;QAAC;QAAiB;KAAU;IAE/B,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC,uKAAI;YACH,MAAK;YACL,WAAU;sBACX;;;;;;IAIL;IAEA,IAAI,CAAC,mBAAmB,CAAC,MAAM;QAC7B,qBACE,8OAAC,uKAAI;YACH,MAAK;YACL,WAAU;sBACX;;;;;;IAIL;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,QAAO;wBAAe,SAAQ;kCACjE,cAAA,8OAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;kCAEvE,8OAAC;wBAAK,WAAU;kCAAoB,KAAK,IAAI,IAAI,KAAK,KAAK;;;;;;;;;;;;YAG5D,wBACC;;kCACE,8OAAC;wBACC,WAAU;wBACV,SAAS,IAAM,UAAU;;;;;;kCAE3B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,UAAU;8CAC1B;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,UAAU;8CAC1B;;;;;;8CAGD,8OAAC;oCAAI,WAAU;;;;;;8CACf,8OAAC;oCACC,SAAS;wCACP,yIAAY,CAAC,QAAQ,GAAG,MAAM;wCAC9B,UAAU;oCACZ;oCACA,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AASf"}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/Navigation.tsx"],"sourcesContent":["/**\n * Navigation principale avec badge panier\n * Version sans dépendance zustand directe\n */\n'use client';\n\nimport { isLegalCatalogModeEnabled } from '@/lib/config/legalCatalog';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\nimport { CartBadge } from './CartBadge';\nimport { DarkModeToggle } from './DarkModeToggle';\nimport { SearchBar } from './SearchBar';\nimport { UserMenu } from './UserMenu';\n\nexport function Navigation() {\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const legalMode = isLegalCatalogModeEnabled();\n  const isAdminEnabled =\n    (process.env.NEXT_PUBLIC_ADMIN_ENABLED || '').toLowerCase().trim() === '1' ||\n    (process.env.NEXT_PUBLIC_ADMIN_ENABLED || '').toLowerCase().trim() === 'true' ||\n    (process.env.NEXT_PUBLIC_ADMIN_ENABLED || '').toLowerCase().trim() === 'on';\n\n  // Empêcher le scroll du body quand le menu mobile est ouvert\n  useEffect(() => {\n    if (!isMobileMenuOpen) return;\n    const prevOverflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.body.style.overflow = prevOverflow;\n    };\n  }, [isMobileMenuOpen]);\n\n  return (\n    <nav\n      className=\"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 sticky top-0 z-50\"\n      suppressHydrationWarning\n    >\n      <div className=\"container mx-auto px-4\" suppressHydrationWarning>\n        <div className=\"flex items-center justify-between h-16\" suppressHydrationWarning>\n          {/* Logo */}\n          <Link href=\"/\" className=\"text-2xl font-bold text-primary-600 dark:text-primary-400\">\n            ZenFlow\n          </Link>\n\n          {/* Recherche */}\n          <div className=\"hidden md:block flex-1 max-w-md mx-8\">\n            <SearchBar />\n          </div>\n\n          {/* Menu Desktop */}\n          <div className=\"hidden md:flex items-center gap-6\">\n            <Link\n              href=\"/products\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n            >\n              Produits\n            </Link>\n            <Link\n              href=\"/courses\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n            >\n              Cours\n            </Link>\n            {!legalMode ? (\n              <Link\n                href=\"/trending\"\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-semibold\"\n              >\n                🔥 Populaires\n              </Link>\n            ) : null}\n            <Link\n              href=\"/search\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n            >\n              🔍 Recherche\n            </Link>\n            <Link\n              href=\"/wishlist\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors relative\"\n              aria-label=\"Liste de souhaits\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n              </svg>\n            </Link>\n            <Link\n              href=\"/cart\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n            >\n              Panier\n            </Link>\n            <UserMenu />\n            {!legalMode && isAdminEnabled ? (\n              <Link\n                href=\"/admin/products\"\n                className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors text-sm\"\n                title=\"Admin produits\"\n              >\n                ⚙️ Admin\n              </Link>\n            ) : null}\n            <Link\n              href=\"/api-docs\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors text-sm\"\n              title=\"Documentation API\"\n            >\n              📚 API\n            </Link>\n            <CartBadge />\n            <DarkModeToggle />\n          </div>\n\n          {/* Menu Mobile */}\n          <div className=\"md:hidden flex items-center gap-3\">\n            <Link\n              href=\"/search\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors\"\n              aria-label=\"Recherche\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </Link>\n            <Link\n              href=\"/cart\"\n              className=\"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors relative\"\n              aria-label=\"Panier\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\" />\n              </svg>\n              <CartBadge noLink />\n            </Link>\n            <DarkModeToggle />\n            <button\n              type=\"button\"\n              onClick={() => setIsMobileMenuOpen(true)}\n              className=\"inline-flex items-center justify-center rounded-md p-2 text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n              aria-label=\"Ouvrir le menu\"\n              aria-haspopup=\"dialog\"\n              aria-expanded={isMobileMenuOpen}\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Overlay + Drawer mobile */}\n      {isMobileMenuOpen ? (\n        <div className=\"fixed inset-0 z-[70] md:hidden\" role=\"dialog\" aria-modal=\"true\">\n          <button\n            type=\"button\"\n            className=\"absolute inset-0 bg-black/40\"\n            aria-label=\"Fermer le menu\"\n            onClick={() => setIsMobileMenuOpen(false)}\n          />\n\n          <div className=\"absolute right-0 top-0 h-full w-[90vw] max-w-sm bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 shadow-xl\">\n            <div className=\"flex items-center justify-between px-4 py-4 border-b border-gray-200 dark:border-gray-800\">\n              <span className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Menu</span>\n              <button\n                type=\"button\"\n                onClick={() => setIsMobileMenuOpen(false)}\n                className=\"rounded-md p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                aria-label=\"Fermer\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            <div className=\"px-4 py-4\">\n              <div className=\"mb-4\">\n                <SearchBar />\n              </div>\n\n              <div className=\"flex items-center justify-between mb-4\">\n                <UserMenu />\n                <div className=\"flex items-center gap-2\">\n                  <CartBadge />\n                </div>\n              </div>\n\n              <nav className=\"flex flex-col gap-2\">\n                {[\n                  { href: '/products', label: 'Produits' },\n                  { href: '/courses', label: 'Cours' },\n                  ...(!legalMode ? [{ href: '/trending', label: '🔥 Populaires' } as const] : []),\n                  { href: '/wishlist', label: 'Wishlist' },\n                  { href: '/cart', label: 'Panier' },\n                  { href: '/checkout', label: 'Checkout' },\n                  { href: '/about', label: 'À propos' },\n                  { href: '/contact', label: 'Contact' },\n                  { href: '/faq', label: 'FAQ' },\n                  ...(!legalMode && isAdminEnabled ? [{ href: '/admin/products', label: '⚙️ Admin' } as const] : []),\n                  { href: '/api-docs', label: '📚 API' },\n                ].map((item) => (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setIsMobileMenuOpen(false)}\n                    className=\"rounded-md px-3 py-2 text-gray-800 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                  >\n                    {item.label}\n                  </Link>\n                ))}\n              </nav>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </nav>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2498, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/PWAInstallPrompt.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\ninterface BeforeInstallPromptEvent extends Event {\n  prompt: () => Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n}\n\nexport function PWAInstallPrompt() {\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [showPrompt, setShowPrompt] = useState(false);\n  const [isInstalled, setIsInstalled] = useState(false);\n\n  useEffect(() => {\n    // Vérifier si l'app est déjà installée\n    if (window.matchMedia('(display-mode: standalone)').matches ||\n        (window.navigator as any).standalone === true) {\n      setIsInstalled(true);\n      return;\n    }\n\n    // Écouter l'événement beforeinstallprompt\n    const handleBeforeInstallPrompt = (e: Event) => {\n      e.preventDefault();\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n\n      // Afficher le prompt après 3 secondes\n      setTimeout(() => {\n        setShowPrompt(true);\n      }, 3000);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n\n    // Vérifier si l'app a été installée\n    window.addEventListener('appinstalled', () => {\n      setIsInstalled(true);\n      setShowPrompt(false);\n      setDeferredPrompt(null);\n    });\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    };\n  }, []);\n\n  const handleInstallClick = async () => {\n    if (!deferredPrompt) return;\n\n    // Afficher le prompt d'installation\n    await deferredPrompt.prompt();\n\n    // Attendre le choix de l'utilisateur\n    const { outcome } = await deferredPrompt.userChoice;\n\n    if (outcome === 'accepted') {\n      console.log('User accepted the install prompt');\n      setIsInstalled(true);\n    } else {\n      console.log('User dismissed the install prompt');\n    }\n\n    setDeferredPrompt(null);\n    setShowPrompt(false);\n  };\n\n  const handleDismiss = () => {\n    setShowPrompt(false);\n    // Ne plus afficher pendant cette session\n    sessionStorage.setItem('pwa-prompt-dismissed', 'true');\n  };\n\n  // Ne pas afficher si déjà installée ou si l'utilisateur a déjà refusé\n  if (isInstalled || !showPrompt || !deferredPrompt) {\n    return null;\n  }\n\n  if (sessionStorage.getItem('pwa-prompt-dismissed') === 'true') {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"flex-shrink-0\">\n            <svg\n              className=\"w-6 h-6 text-green-600 dark:text-green-400\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z\"\n              />\n            </svg>\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">\n              Installer ZenFlow\n            </h3>\n            <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-400\">\n              Installez l&apos;application pour un accès rapide et une expérience hors ligne.\n            </p>\n            <div className=\"mt-3 flex gap-2\">\n              <button\n                onClick={handleInstallClick}\n                className=\"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors\"\n              >\n                Installer\n              </button>\n              <button\n                onClick={handleDismiss}\n                className=\"px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors\"\n              >\n                Plus tard\n              </button>\n            </div>\n          </div>\n          <button\n            onClick={handleDismiss}\n            className=\"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\"\n            aria-label=\"Fermer\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAkC;IACtF,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,IAAA,kNAAS,EAAC;QACR,uCAAuC;QACvC,IAAI,OAAO,UAAU,CAAC,8BAA8B,OAAO,IACvD,AAAC,OAAO,SAAS,CAAS,UAAU,KAAK,MAAM;YACjD,eAAe;YACf;QACF;QAEA,0CAA0C;QAC1C,MAAM,4BAA4B,CAAC;YACjC,EAAE,cAAc;YAChB,kBAAkB;YAElB,sCAAsC;YACtC,WAAW;gBACT,cAAc;YAChB,GAAG;QACL;QAEA,OAAO,gBAAgB,CAAC,uBAAuB;QAE/C,oCAAoC;QACpC,OAAO,gBAAgB,CAAC,gBAAgB;YACtC,eAAe;YACf,cAAc;YACd,kBAAkB;QACpB;QAEA,OAAO;YACL,OAAO,mBAAmB,CAAC,uBAAuB;QACpD;IACF,GAAG,EAAE;IAEL,MAAM,qBAAqB;QACzB,IAAI,CAAC,gBAAgB;QAErB,oCAAoC;QACpC,MAAM,eAAe,MAAM;QAE3B,qCAAqC;QACrC,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,eAAe,UAAU;QAEnD,IAAI,YAAY,YAAY;YAC1B,QAAQ,GAAG,CAAC;YACZ,eAAe;QACjB,OAAO;YACL,QAAQ,GAAG,CAAC;QACd;QAEA,kBAAkB;QAClB,cAAc;IAChB;IAEA,MAAM,gBAAgB;QACpB,cAAc;QACd,yCAAyC;QACzC,eAAe,OAAO,CAAC,wBAAwB;IACjD;IAEA,sEAAsE;IACtE,IAAI,eAAe,CAAC,cAAc,CAAC,gBAAgB;QACjD,OAAO;IACT;IAEA,IAAI,eAAe,OAAO,CAAC,4BAA4B,QAAQ;QAC7D,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,8OAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;;;;;;kCAIR,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAyD;;;;;;0CAGvE,8OAAC;gCAAE,WAAU;0CAAgD;;;;;;0CAG7D,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAKL,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,8OAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCACjE,cAAA,8OAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlB"}},
    {"offset": {"line": 2700, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/ScrollToTop.tsx"],"sourcesContent":["/**\n * Bouton scroll to top\n */\n'use client';\n\nimport { useState, useEffect } from 'react';\n\nexport function ScrollToTop() {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    const toggleVisibility = () => {\n      if (window.pageYOffset > 300) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    };\n\n    window.addEventListener('scroll', toggleVisibility);\n    return () => window.removeEventListener('scroll', toggleVisibility);\n  }, []);\n\n  const scrollToTop = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  if (!isVisible) {\n    return null;\n  }\n\n  return (\n    <button\n      onClick={scrollToTop}\n      className=\"fixed bottom-8 right-8 w-12 h-12 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-all transform hover:scale-110 z-50 flex items-center justify-center\"\n      aria-label=\"Retour en haut\"\n    >\n      <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\n      </svg>\n    </button>\n  );\n}\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AAFA;;;AAIO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,mBAAmB;YACvB,IAAI,OAAO,WAAW,GAAG,KAAK;gBAC5B,aAAa;YACf,OAAO;gBACL,aAAa;YACf;QACF;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,OAAO,QAAQ,CAAC;YACd,KAAK;YACL,UAAU;QACZ;IACF;IAEA,IAAI,CAAC,WAAW;QACd,OAAO;IACT;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;QACV,cAAW;kBAEX,cAAA,8OAAC;YAAI,WAAU;YAAU,MAAK;YAAO,QAAO;YAAe,SAAQ;sBACjE,cAAA,8OAAC;gBAAK,eAAc;gBAAQ,gBAAe;gBAAQ,aAAa;gBAAG,GAAE;;;;;;;;;;;;;;;;AAI7E"}},
    {"offset": {"line": 2773, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/StructuredData.tsx"],"sourcesContent":["/**\n * Composant pour injecter structured data (JSON-LD)\n * Sécurisé avec sanitization pour prévenir XSS\n */\n'use client';\n\nimport DOMPurify from 'isomorphic-dompurify';\n\ninterface StructuredDataProps {\n  data: object | object[];\n}\n\nexport function StructuredData({ data }: StructuredDataProps) {\n  const jsonLd = Array.isArray(data) ? data : [data];\n  \n  return (\n    <>\n      {jsonLd.map((item, index) => {\n        // Sanitizer le JSON avant injection pour prévenir XSS\n        const jsonString = JSON.stringify(item);\n        const sanitized = DOMPurify.sanitize(jsonString, {\n          ALLOWED_TAGS: [],\n          ALLOWED_ATTR: [],\n          KEEP_CONTENT: true,\n        });\n        \n        return (\n          <script\n            key={index}\n            type=\"application/ld+json\"\n            dangerouslySetInnerHTML={{ __html: sanitized }}\n          />\n        );\n      })}\n    </>\n  );\n}\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AAGD;AAFA;;;AAQO,SAAS,eAAe,EAAE,IAAI,EAAuB;IAC1D,MAAM,SAAS,MAAM,OAAO,CAAC,QAAQ,OAAO;QAAC;KAAK;IAElD,qBACE;kBACG,OAAO,GAAG,CAAC,CAAC,MAAM;YACjB,sDAAsD;YACtD,MAAM,aAAa,KAAK,SAAS,CAAC;YAClC,MAAM,YAAY,2JAAS,CAAC,QAAQ,CAAC,YAAY;gBAC/C,cAAc,EAAE;gBAChB,cAAc,EAAE;gBAChB,cAAc;YAChB;YAEA,qBACE,8OAAC;gBAEC,MAAK;gBACL,yBAAyB;oBAAE,QAAQ;gBAAU;eAFxC;;;;;QAKX;;AAGN"}},
    {"offset": {"line": 2815, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/Toast.tsx"],"sourcesContent":["/**\n * Système de notifications toast\n */\n'use client';\n\nimport { useEffect, useState } from 'react';\n\nexport type ToastType = 'success' | 'error' | 'info' | 'warning';\n\nexport interface Toast {\n  id: string;\n  message: string;\n  type: ToastType;\n  duration?: number;\n}\n\ninterface ToastProps {\n  toast: Toast;\n  onRemove: (id: string) => void;\n}\n\nfunction ToastItem({ toast, onRemove }: ToastProps) {\n  useEffect(() => {\n    const duration = toast.duration || 3000;\n    const timer = setTimeout(() => {\n      onRemove(toast.id);\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [toast.id, toast.duration, onRemove]);\n\n  const icons = {\n    success: '✅',\n    error: '❌',\n    info: 'ℹ️',\n    warning: '⚠️',\n  };\n\n  const colors = {\n    success: 'bg-green-50 border-green-200 text-green-800',\n    error: 'bg-red-50 border-red-200 text-red-800',\n    info: 'bg-blue-50 border-blue-200 text-blue-800',\n    warning: 'bg-yellow-50 border-yellow-200 text-yellow-800',\n  };\n\n  return (\n    <div\n      className={`\n        ${colors[toast.type]}\n        border rounded-lg shadow-lg p-4 mb-2\n        flex items-center justify-between\n        animate-in slide-in-from-top-5\n        min-w-[300px] max-w-md\n      `}\n    >\n      <div className=\"flex items-center gap-3\">\n        <span className=\"text-xl\">{icons[toast.type]}</span>\n        <p className=\"text-sm font-medium\">{toast.message}</p>\n      </div>\n      <button\n        onClick={() => onRemove(toast.id)}\n        className=\"ml-4 text-gray-500 hover:text-gray-700\"\n        aria-label=\"Fermer\"\n      >\n        ✕\n      </button>\n    </div>\n  );\n}\n\nexport function ToastContainer() {\n  const [toasts, setToasts] = useState<Toast[]>([]);\n\n  useEffect(() => {\n    // Écouter les événements toast depuis n'importe où\n    const handleToast = (event: CustomEvent<Omit<Toast, 'id'>>) => {\n      const toast: Toast = {\n        id: Math.random().toString(36).substring(7),\n        ...event.detail,\n      };\n      setToasts((prev) => [...prev, toast]);\n    };\n\n    window.addEventListener('toast' as any, handleToast as EventListener);\n    return () => {\n      window.removeEventListener('toast' as any, handleToast as EventListener);\n    };\n  }, []);\n\n  const removeToast = (id: string) => {\n    setToasts((prev) => prev.filter((t) => t.id !== id));\n  };\n\n  if (toasts.length === 0) return null;\n\n  return (\n    <div className=\"fixed top-4 right-4 z-50 flex flex-col items-end\">\n      {toasts.map((toast) => (\n        <ToastItem key={toast.id} toast={toast} onRemove={removeToast} />\n      ))}\n    </div>\n  );\n}\n\n/**\n * Utilitaire pour afficher un toast\n */\nexport function showToast(message: string, type: ToastType = 'info', duration?: number) {\n  const event = new CustomEvent('toast', {\n    detail: { message, type, duration },\n  });\n  window.dispatchEvent(event);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;AAGD;AAFA;;;AAkBA,SAAS,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAc;IAChD,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,MAAM,QAAQ,IAAI;QACnC,MAAM,QAAQ,WAAW;YACvB,SAAS,MAAM,EAAE;QACnB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC,MAAM,EAAE;QAAE,MAAM,QAAQ;QAAE;KAAS;IAEvC,MAAM,QAAQ;QACZ,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,MAAM,SAAS;QACb,SAAS;QACT,OAAO;QACP,MAAM;QACN,SAAS;IACX;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC;QACV,EAAE,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC;;;;;MAKvB,CAAC;;0BAED,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAW,KAAK,CAAC,MAAM,IAAI,CAAC;;;;;;kCAC5C,8OAAC;wBAAE,WAAU;kCAAuB,MAAM,OAAO;;;;;;;;;;;;0BAEnD,8OAAC;gBACC,SAAS,IAAM,SAAS,MAAM,EAAE;gBAChC,WAAU;gBACV,cAAW;0BACZ;;;;;;;;;;;;AAKP;AAEO,SAAS;IACd,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAU,EAAE;IAEhD,IAAA,kNAAS,EAAC;QACR,mDAAmD;QACnD,MAAM,cAAc,CAAC;YACnB,MAAM,QAAe;gBACnB,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC;gBACzC,GAAG,MAAM,MAAM;YACjB;YACA,UAAU,CAAC,OAAS;uBAAI;oBAAM;iBAAM;QACtC;QAEA,OAAO,gBAAgB,CAAC,SAAgB;QACxC,OAAO;YACL,OAAO,mBAAmB,CAAC,SAAgB;QAC7C;IACF,GAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAClD;IAEA,IAAI,OAAO,MAAM,KAAK,GAAG,OAAO;IAEhC,qBACE,8OAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,sBACX,8OAAC;gBAAyB,OAAO;gBAAO,UAAU;eAAlC,MAAM,EAAE;;;;;;;;;;AAIhC;AAKO,SAAS,UAAU,OAAe,EAAE,OAAkB,MAAM,EAAE,QAAiB;IACpF,MAAM,QAAQ,IAAI,YAAY,SAAS;QACrC,QAAQ;YAAE;YAAS;YAAM;QAAS;IACpC;IACA,OAAO,aAAa,CAAC;AACvB"}}]
}