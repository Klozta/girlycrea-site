{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/LoadingSpinner.tsx"],"sourcesContent":["/**\n * Spinner de chargement réutilisable\n */\n'use client';\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n}\n\nexport function LoadingSpinner({ size = 'md', className = '' }: LoadingSpinnerProps) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-8 h-8',\n    lg: 'w-12 h-12',\n  };\n\n  // Normaliser className pour éviter les différences serveur/client\n  const normalizedClassName = className ? className.trim() : '';\n  const divClassName = normalizedClassName\n    ? `flex items-center justify-center ${normalizedClassName}`\n    : 'flex items-center justify-center';\n\n  return (\n    <div className={divClassName}>\n      <svg\n        className={`animate-spin ${sizeClasses[size]} text-primary-600`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n      >\n        <circle\n          className=\"opacity-25\"\n          cx=\"12\"\n          cy=\"12\"\n          r=\"10\"\n          stroke=\"currentColor\"\n          strokeWidth=\"4\"\n        />\n        <path\n          className=\"opacity-75\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        />\n      </svg>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AACD;;AAOO,SAAS,eAAe,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAuB;IACjF,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,kEAAkE;IAClE,MAAM,sBAAsB,YAAY,UAAU,IAAI,KAAK;IAC3D,MAAM,eAAe,sBACjB,CAAC,iCAAiC,EAAE,qBAAqB,GACzD;IAEJ,qBACE,8OAAC;QAAI,WAAW;kBACd,cAAA,8OAAC;YACC,WAAW,CAAC,aAAa,EAAE,WAAW,CAAC,KAAK,CAAC,iBAAiB,CAAC;YAC/D,OAAM;YACN,MAAK;YACL,SAAQ;;8BAER,8OAAC;oBACC,WAAU;oBACV,IAAG;oBACH,IAAG;oBACH,GAAE;oBACF,QAAO;oBACP,aAAY;;;;;;8BAEd,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,GAAE;;;;;;;;;;;;;;;;;AAKZ"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/store/viewHistoryStore.ts"],"sourcesContent":["/**\n * Store pour l'historique de navigation (produits récemment consultés)\n * localStorage + sync backend si connecté\n */\n'use client';\n\ninterface ViewedProduct {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n  viewedAt: string; // ISO date\n}\n\ninterface ViewHistoryStore {\n  items: ViewedProduct[];\n  addProduct: (product: Omit<ViewedProduct, 'viewedAt'>) => void;\n  getRecent: (limit?: number) => ViewedProduct[];\n  clear: () => void;\n  syncToBackend: (userId: string) => Promise<void>;\n}\n\nconst STORAGE_KEY = 'zenflow-view-history';\nconst MAX_ITEMS = 20;\nconst EXPIRY_DAYS = 30;\n\nfunction loadFromStorage(): ViewedProduct[] {\n  if (typeof window === 'undefined') return [];\n\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (!stored) return [];\n\n    const items: ViewedProduct[] = JSON.parse(stored);\n    const now = new Date();\n    const expiryDate = new Date(now.getTime() - EXPIRY_DAYS * 24 * 60 * 60 * 1000);\n\n    // Filtrer les items expirés\n    const valid = items.filter(item => new Date(item.viewedAt) > expiryDate);\n\n    // Limiter à MAX_ITEMS (garder les plus récents)\n    const sorted = valid.sort((a, b) =>\n      new Date(b.viewedAt).getTime() - new Date(a.viewedAt).getTime()\n    );\n\n    return sorted.slice(0, MAX_ITEMS);\n  } catch {\n    return [];\n  }\n}\n\nfunction saveToStorage(items: ViewedProduct[]): void {\n  if (typeof window === 'undefined') return;\n\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(items));\n    // Déclencher un événement pour sync cross-tab\n    window.dispatchEvent(new CustomEvent('viewHistoryUpdated'));\n  } catch (error) {\n    console.error('Erreur sauvegarde historique', error);\n  }\n}\n\nexport const viewHistoryStore: ViewHistoryStore = {\n  items: loadFromStorage(),\n\n  addProduct: (product) => {\n    const now = new Date().toISOString();\n    const viewedProduct: ViewedProduct = {\n      ...product,\n      viewedAt: now,\n    };\n\n    // Retirer si déjà présent (éviter doublons)\n    const filtered = viewHistoryStore.items.filter(item => item.id !== product.id);\n\n    // Ajouter au début\n    const updated = [viewedProduct, ...filtered].slice(0, MAX_ITEMS);\n\n    viewHistoryStore.items = updated;\n    saveToStorage(updated);\n  },\n\n  getRecent: (limit = 10) => {\n    return viewHistoryStore.items.slice(0, limit);\n  },\n\n  clear: () => {\n    viewHistoryStore.items = [];\n    saveToStorage([]);\n  },\n\n  syncToBackend: async (_userId: string) => {\n    try {\n      const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api';\n\n      // Envoyer l'historique au backend pour persistance\n      await fetch(`${API_URL}/user/view-history`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          items: viewHistoryStore.items,\n        }),\n      });\n    } catch (error) {\n      // Non-bloquant : on continue même si sync échoue\n      console.warn('Erreur sync historique backend', error);\n    }\n  },\n};\n\n// Sync cross-tab\nif (typeof window !== 'undefined') {\n  window.addEventListener('storage', (e) => {\n    if (e.key === STORAGE_KEY && e.newValue) {\n      try {\n        viewHistoryStore.items = JSON.parse(e.newValue);\n      } catch {\n        // Ignore\n      }\n    }\n  });\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AACD;AAkBA,MAAM,cAAc;AACpB,MAAM,YAAY;AAClB,MAAM,cAAc;AAEpB,SAAS;IACP,wCAAmC,OAAO,EAAE;;;AAsB9C;AAEA,SAAS,cAAc,KAAsB;IAC3C,wCAAmC;;;AASrC;AAEO,MAAM,mBAAqC;IAChD,OAAO;IAEP,YAAY,CAAC;QACX,MAAM,MAAM,IAAI,OAAO,WAAW;QAClC,MAAM,gBAA+B;YACnC,GAAG,OAAO;YACV,UAAU;QACZ;QAEA,4CAA4C;QAC5C,MAAM,WAAW,iBAAiB,KAAK,CAAC,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,QAAQ,EAAE;QAE7E,mBAAmB;QACnB,MAAM,UAAU;YAAC;eAAkB;SAAS,CAAC,KAAK,CAAC,GAAG;QAEtD,iBAAiB,KAAK,GAAG;QACzB,cAAc;IAChB;IAEA,WAAW,CAAC,QAAQ,EAAE;QACpB,OAAO,iBAAiB,KAAK,CAAC,KAAK,CAAC,GAAG;IACzC;IAEA,OAAO;QACL,iBAAiB,KAAK,GAAG,EAAE;QAC3B,cAAc,EAAE;IAClB;IAEA,eAAe,OAAO;QACpB,IAAI;YACF,MAAM,UAAU,iEAAmC;YAEnD,mDAAmD;YACnD,MAAM,MAAM,GAAG,QAAQ,kBAAkB,CAAC,EAAE;gBAC1C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBACnB,OAAO,iBAAiB,KAAK;gBAC/B;YACF;QACF,EAAE,OAAO,OAAO;YACd,iDAAiD;YACjD,QAAQ,IAAI,CAAC,kCAAkC;QACjD;IACF;AACF;AAEA,iBAAiB;AACjB"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/RecentlyViewed.tsx"],"sourcesContent":["/**\n * Composant \"Produits récemment consultés\"\n */\n'use client';\n\nimport { viewHistoryStore } from '@/lib/store/viewHistoryStore';\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useEffect, useState } from 'react';\n\ninterface ViewedProduct {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n  viewedAt: string;\n}\n\ninterface RecentlyViewedProps {\n  limit?: number;\n  title?: string;\n  showEmpty?: boolean;\n}\n\nexport function RecentlyViewed({ limit = 8, title = 'Récemment consultés', showEmpty = false }: RecentlyViewedProps) {\n  const [items, setItems] = useState<ViewedProduct[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadHistory = () => {\n      const recent = viewHistoryStore.getRecent(limit);\n      setItems(recent);\n      setIsLoading(false);\n    };\n\n    loadHistory();\n\n    // Écouter les mises à jour cross-tab\n    const handleUpdate = () => loadHistory();\n    window.addEventListener('viewHistoryUpdated', handleUpdate);\n\n    return () => {\n      window.removeEventListener('viewHistoryUpdated', handleUpdate);\n    };\n  }, [limit]);\n\n  if (isLoading) {\n    return (\n      <div className=\"py-8\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-6 bg-gray-200 dark:bg-gray-700 rounded w-48\"></div>\n          <div className=\"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-4\">\n            {[...Array(limit)].map((_, i) => (\n              <div key={i} className=\"aspect-square bg-gray-200 dark:bg-gray-700 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (items.length === 0) {\n    if (!showEmpty) return null;\n\n    return (\n      <section className=\"py-8\">\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6\">{title}</h2>\n        <p className=\"text-gray-500 dark:text-gray-400 text-center py-8\">\n          Aucun produit consulté récemment\n        </p>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"py-8\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">{title}</h2>\n        {items.length > limit && (\n          <Link\n            href=\"/account?tab=history\"\n            className=\"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300\"\n          >\n            Voir tout →\n          </Link>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-4\">\n        {items.map((item) => (\n          <Link\n            key={item.id}\n            href={`/products/${item.id}`}\n            className=\"group relative aspect-square bg-white dark:bg-gray-800 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700 hover:border-primary-500 dark:hover:border-primary-500 transition-all hover:shadow-lg\"\n          >\n            <div className=\"relative w-full h-full\">\n              <Image\n                src={item.image || '/placeholder-product.jpg'}\n                alt={item.title}\n                fill\n                className=\"object-cover group-hover:scale-105 transition-transform duration-200\"\n                sizes=\"(max-width: 640px) 50vw, (max-width: 1024px) 25vw, 12.5vw\"\n              />\n            </div>\n            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2\">\n              <p className=\"text-white text-xs font-medium line-clamp-1\">{item.title}</p>\n              <p className=\"text-white text-sm font-bold\">{item.price.toFixed(2)}€</p>\n            </div>\n          </Link>\n        ))}\n      </div>\n    </section>\n  );\n}\n\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;AACA;AALA;;;;;;AAqBO,SAAS,eAAe,EAAE,QAAQ,CAAC,EAAE,QAAQ,qBAAqB,EAAE,YAAY,KAAK,EAAuB;IACjH,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAkB,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc;YAClB,MAAM,SAAS,oJAAgB,CAAC,SAAS,CAAC;YAC1C,SAAS;YACT,aAAa;QACf;QAEA;QAEA,qCAAqC;QACrC,MAAM,eAAe,IAAM;QAC3B,OAAO,gBAAgB,CAAC,sBAAsB;QAE9C,OAAO;YACL,OAAO,mBAAmB,CAAC,sBAAsB;QACnD;IACF,GAAG;QAAC;KAAM;IAEV,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;kCACZ;+BAAI,MAAM;yBAAO,CAAC,GAAG,CAAC,CAAC,GAAG,kBACzB,8OAAC;gCAAY,WAAU;+BAAb;;;;;;;;;;;;;;;;;;;;;IAMtB;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,IAAI,CAAC,WAAW,OAAO;QAEvB,qBACE,8OAAC;YAAQ,WAAU;;8BACjB,8OAAC;oBAAG,WAAU;8BAA4D;;;;;;8BAC1E,8OAAC;oBAAE,WAAU;8BAAoD;;;;;;;;;;;;IAKvE;IAEA,qBACE,8OAAC;QAAQ,WAAU;;0BACjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuD;;;;;;oBACpE,MAAM,MAAM,GAAG,uBACd,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAML,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,uKAAI;wBAEH,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE;wBAC5B,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,wIAAK;oCACJ,KAAK,KAAK,KAAK,IAAI;oCACnB,KAAK,KAAK,KAAK;oCACf,IAAI;oCACJ,WAAU;oCACV,OAAM;;;;;;;;;;;0CAGV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAA+C,KAAK,KAAK;;;;;;kDACtE,8OAAC;wCAAE,WAAU;;4CAAgC,KAAK,KAAK,CAAC,OAAO,CAAC;4CAAG;;;;;;;;;;;;;;uBAfhE,KAAK,EAAE;;;;;;;;;;;;;;;;AAsBxB"}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/store/cartStoreSimple.ts"],"sourcesContent":["/**\n * Store panier simplifié sans zustand (temporaire)\n * Utilise localStorage directement\n */\n'use client';\n\nexport interface CartItem {\n  id: string;\n  title: string;\n  price: number;\n  image: string;\n  quantity: number;\n  stock: number;\n  type?: 'product' | 'course'; // Type d'item pour distinguer produits et cours\n}\n\nconst CART_KEY = 'zenflow-cart';\nconst CART_KEY_SESSION = 'zenflow-cart-session';\n\nfunction getCart(): CartItem[] {\n  if (typeof window === 'undefined') return [];\n  try {\n    // Essayer localStorage d'abord\n    const stored = localStorage.getItem(CART_KEY);\n    if (stored) {\n      const parsed = JSON.parse(stored);\n      const items = parsed.state?.items || parsed.items || [];\n      // Synchroniser avec sessionStorage (fallback)\n      try {\n        sessionStorage.setItem(CART_KEY_SESSION, JSON.stringify({ state: { items } }));\n      } catch {\n        // Ignore si sessionStorage bloqué\n      }\n      return items;\n    }\n    // Fallback: sessionStorage si localStorage vide\n    const sessionStored = sessionStorage.getItem(CART_KEY_SESSION);\n    if (sessionStored) {\n      const parsed = JSON.parse(sessionStored);\n      return parsed.state?.items || parsed.items || [];\n    }\n    return [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveCart(items: CartItem[]): void {\n  if (typeof window === 'undefined') return;\n  const payload = JSON.stringify({ state: { items } });\n  try {\n    localStorage.setItem(CART_KEY, payload);\n  } catch {\n    // Fallback: sessionStorage si localStorage bloqué\n    try {\n      sessionStorage.setItem(CART_KEY_SESSION, payload);\n    } catch {\n      // Ignore si les deux sont bloqués\n    }\n  }\n}\n\nexport const cartStoreSimple = {\n  getItems: (): CartItem[] => getCart(),\n  setItems: (items: CartItem[]): void => {\n    saveCart(items);\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new Event('storage'));\n    }\n  },\n\n  addItem: (product: Omit<CartItem, 'quantity'>): void => {\n    const items = getCart();\n    const existing = items.find((item) => item.id === product.id);\n\n    if (existing) {\n      // Pour les cours, pas de limite de stock\n      if (product.type === 'course') {\n        existing.quantity = existing.quantity + 1;\n      } else {\n        existing.quantity = Math.min(existing.quantity + 1, existing.stock);\n      }\n    } else {\n      items.push({ ...product, quantity: 1 });\n    }\n\n    saveCart(items);\n    window.dispatchEvent(new Event('storage'));\n  },\n\n  removeItem: (id: string): void => {\n    const items = getCart().filter((item) => item.id !== id);\n    saveCart(items);\n    window.dispatchEvent(new Event('storage'));\n  },\n\n  updateQuantity: (id: string, quantity: number): void => {\n    if (quantity <= 0) {\n      cartStoreSimple.removeItem(id);\n      return;\n    }\n\n    const items = getCart();\n    const item = items.find((i) => i.id === id);\n    if (item) {\n      // Pour les cours, pas de limite de stock\n      if (item.type === 'course') {\n        item.quantity = quantity;\n      } else {\n        item.quantity = Math.min(quantity, item.stock);\n      }\n      saveCart(items);\n      window.dispatchEvent(new Event('storage'));\n    }\n  },\n\n  clearCart: (): void => {\n    saveCart([]);\n    window.dispatchEvent(new Event('storage'));\n  },\n\n  getTotalItems: (): number => {\n    return getCart().reduce((total, item) => total + item.quantity, 0);\n  },\n\n  getTotalPrice: (): number => {\n    return getCart().reduce((total, item) => total + item.price * item.quantity, 0);\n  },\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AACD;AAYA,MAAM,WAAW;AACjB,MAAM,mBAAmB;AAEzB,SAAS;IACP,wCAAmC,OAAO,EAAE;;;AAyB9C;AAEA,SAAS,SAAS,KAAiB;IACjC,wCAAmC;;;IACnC,MAAM;AAWR;AAEO,MAAM,kBAAkB;IAC7B,UAAU,IAAkB;IAC5B,UAAU,CAAC;QACT,SAAS;QACT;;IAGF;IAEA,SAAS,CAAC;QACR,MAAM,QAAQ;QACd,MAAM,WAAW,MAAM,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;QAE5D,IAAI,UAAU;YACZ,yCAAyC;YACzC,IAAI,QAAQ,IAAI,KAAK,UAAU;gBAC7B,SAAS,QAAQ,GAAG,SAAS,QAAQ,GAAG;YAC1C,OAAO;gBACL,SAAS,QAAQ,GAAG,KAAK,GAAG,CAAC,SAAS,QAAQ,GAAG,GAAG,SAAS,KAAK;YACpE;QACF,OAAO;YACL,MAAM,IAAI,CAAC;gBAAE,GAAG,OAAO;gBAAE,UAAU;YAAE;QACvC;QAEA,SAAS;QACT,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,YAAY,CAAC;QACX,MAAM,QAAQ,UAAU,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;QACrD,SAAS;QACT,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,gBAAgB,CAAC,IAAY;QAC3B,IAAI,YAAY,GAAG;YACjB,gBAAgB,UAAU,CAAC;YAC3B;QACF;QAEA,MAAM,QAAQ;QACd,MAAM,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACxC,IAAI,MAAM;YACR,yCAAyC;YACzC,IAAI,KAAK,IAAI,KAAK,UAAU;gBAC1B,KAAK,QAAQ,GAAG;YAClB,OAAO;gBACL,KAAK,QAAQ,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,KAAK;YAC/C;YACA,SAAS;YACT,OAAO,aAAa,CAAC,IAAI,MAAM;QACjC;IACF;IAEA,WAAW;QACT,SAAS,EAAE;QACX,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,eAAe;QACb,OAAO,UAAU,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAClE;IAEA,eAAe;QACb,OAAO,UAAU,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE;IAC/E;AACF"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/AddToCartButton.tsx"],"sourcesContent":["/**\n * Bouton \"Ajouter au panier\"\n * Toast notification + optimistic update\n */\n'use client';\n\nimport { ecommerce } from '@/lib/analytics';\nimport { cartStoreSimple } from '@/lib/store/cartStoreSimple';\nimport { useState } from 'react';\n\ninterface Product {\n  id: string;\n  title: string;\n  price: number;\n  images: string[];\n  stock: number;\n}\n\ninterface AddToCartButtonProps {\n  product: Product;\n  className?: string;\n}\n\nexport function AddToCartButton({ product, className = '' }: AddToCartButtonProps) {\n  const [isAdding, setIsAdding] = useState(false);\n  const [showToast, setShowToast] = useState(false);\n\n  const handleAddToCart = async () => {\n    if (product.stock === 0) {\n      alert('Produit en rupture de stock');\n      return;\n    }\n\n    setIsAdding(true);\n\n    // Optimistic update\n    cartStoreSimple.addItem({\n      id: product.id,\n      title: product.title,\n      price: product.price,\n      image: product.images[0] || '/placeholder-product.jpg',\n      stock: product.stock,\n      type: 'product', // Marquer comme produit\n    });\n\n    // Analytics\n    ecommerce.addToCart(product.id, product.title, product.price, 1);\n\n    // Toast notification\n    setShowToast(true);\n    setTimeout(() => setShowToast(false), 3000);\n\n    setIsAdding(false);\n  };\n\n  return (\n    <>\n      <button\n        onClick={handleAddToCart}\n        disabled={isAdding || product.stock === 0}\n        className={`\n          ${className}\n          px-6 py-3 bg-primary-600 text-white font-semibold rounded-lg\n          hover:bg-primary-700 active:scale-95 transition-all\n          disabled:opacity-50 disabled:cursor-not-allowed\n          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\n        `}\n        aria-label={`Ajouter ${product.title} au panier`}\n      >\n        {isAdding ? (\n          <span className=\"flex items-center gap-2\">\n            <svg className=\"animate-spin h-5 w-5\" viewBox=\"0 0 24 24\">\n              <circle\n                className=\"opacity-25\"\n                cx=\"12\"\n                cy=\"12\"\n                r=\"10\"\n                stroke=\"currentColor\"\n                strokeWidth=\"4\"\n                fill=\"none\"\n              />\n              <path\n                className=\"opacity-75\"\n                fill=\"currentColor\"\n                d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n              />\n            </svg>\n            Ajout...\n          </span>\n        ) : product.stock === 0 ? (\n          'Rupture de stock'\n        ) : (\n          'Ajouter au panier'\n        )}\n      </button>\n\n      {showToast && (\n        <div className=\"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-slide-up\">\n          ✅ Produit ajouté au panier !\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AAGD;AACA;AACA;AAJA;;;;;AAmBO,SAAS,gBAAgB,EAAE,OAAO,EAAE,YAAY,EAAE,EAAwB;IAC/E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,kBAAkB;QACtB,IAAI,QAAQ,KAAK,KAAK,GAAG;YACvB,MAAM;YACN;QACF;QAEA,YAAY;QAEZ,oBAAoB;QACpB,kJAAe,CAAC,OAAO,CAAC;YACtB,IAAI,QAAQ,EAAE;YACd,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,MAAM,CAAC,EAAE,IAAI;YAC5B,OAAO,QAAQ,KAAK;YACpB,MAAM;QACR;QAEA,YAAY;QACZ,6HAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,QAAQ,KAAK,EAAE,QAAQ,KAAK,EAAE;QAE9D,qBAAqB;QACrB,aAAa;QACb,WAAW,IAAM,aAAa,QAAQ;QAEtC,YAAY;IACd;IAEA,qBACE;;0BACE,8OAAC;gBACC,SAAS;gBACT,UAAU,YAAY,QAAQ,KAAK,KAAK;gBACxC,WAAW,CAAC;UACV,EAAE,UAAU;;;;;QAKd,CAAC;gBACD,cAAY,CAAC,QAAQ,EAAE,QAAQ,KAAK,CAAC,UAAU,CAAC;0BAE/C,yBACC,8OAAC;oBAAK,WAAU;;sCACd,8OAAC;4BAAI,WAAU;4BAAuB,SAAQ;;8CAC5C,8OAAC;oCACC,WAAU;oCACV,IAAG;oCACH,IAAG;oCACH,GAAE;oCACF,QAAO;oCACP,aAAY;oCACZ,MAAK;;;;;;8CAEP,8OAAC;oCACC,WAAU;oCACV,MAAK;oCACL,GAAE;;;;;;;;;;;;wBAEA;;;;;;2BAGN,QAAQ,KAAK,KAAK,IACpB,qBAEA;;;;;;YAIH,2BACC,8OAAC;gBAAI,WAAU;0BAAsG;;;;;;;;AAM7H"}},
    {"offset": {"line": 549, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/components/OptimizedImage.tsx"],"sourcesContent":["/**\n * Composant Image optimisé avec WebP, lazy loading, responsive sizes\n * Wrapper autour de next/image avec optimisations par défaut\n */\n'use client';\n\nimport Image from 'next/image';\nimport { useState } from 'react';\n\ninterface OptimizedImageProps {\n  src: string;\n  alt: string;\n  width?: number;\n  height?: number;\n  fill?: boolean;\n  sizes?: string;\n  priority?: boolean;\n  className?: string;\n  objectFit?: 'contain' | 'cover' | 'fill' | 'none' | 'scale-down';\n  quality?: number;\n  placeholder?: 'blur' | 'empty';\n  blurDataURL?: string;\n  onError?: () => void;\n}\n\nconst DEFAULT_BLUR_DATA_URL =\n  'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\nexport function OptimizedImage({\n  src,\n  alt,\n  width,\n  height,\n  fill = false,\n  sizes,\n  priority = false,\n  className = '',\n  objectFit = 'cover',\n  quality = 85,\n  placeholder = 'blur',\n  blurDataURL = DEFAULT_BLUR_DATA_URL,\n  onError,\n}: OptimizedImageProps) {\n  const [imgSrc, setImgSrc] = useState(src);\n  const [hasError, setHasError] = useState(false);\n\n  // Fallback si image échoue\n  const handleError = () => {\n    if (!hasError && imgSrc !== '/placeholder-product.jpg') {\n      setHasError(true);\n      setImgSrc('/placeholder-product.jpg');\n      onError?.();\n    }\n  };\n\n  // Sizes responsive par défaut si non fourni\n  const defaultSizes = sizes || '(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw';\n\n  // Props communes\n  const objectFitClass = objectFit === 'cover' ? 'object-cover' : objectFit === 'contain' ? 'object-contain' : objectFit === 'fill' ? 'object-fill' : objectFit === 'none' ? 'object-none' : 'object-scale-down';\n  const commonProps = {\n    src: imgSrc,\n    alt: alt || '',\n    className: `${className} ${objectFitClass}`.trim(),\n    quality,\n    placeholder,\n    blurDataURL,\n    onError: handleError,\n    loading: priority ? ('eager' as const) : ('lazy' as const),\n    sizes: defaultSizes,\n  };\n\n  if (fill) {\n    return <Image {...commonProps} alt={alt || ''} fill />;\n  }\n\n  if (!width || !height) {\n    // Si pas de dimensions, utiliser aspect ratio 16:9 par défaut\n    const defaultWidth = width || 400;\n    const defaultHeight = height || (defaultWidth * 9) / 16;\n    return <Image {...commonProps} alt={alt || ''} width={defaultWidth} height={defaultHeight} />;\n  }\n\n  return <Image {...commonProps} alt={alt || ''} width={width} height={height} />;\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AAGD;AACA;AAHA;;;;AAqBA,MAAM,wBACJ;AAEK,SAAS,eAAe,EAC7B,GAAG,EACH,GAAG,EACH,KAAK,EACL,MAAM,EACN,OAAO,KAAK,EACZ,KAAK,EACL,WAAW,KAAK,EAChB,YAAY,EAAE,EACd,YAAY,OAAO,EACnB,UAAU,EAAE,EACZ,cAAc,MAAM,EACpB,cAAc,qBAAqB,EACnC,OAAO,EACa;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,2BAA2B;IAC3B,MAAM,cAAc;QAClB,IAAI,CAAC,YAAY,WAAW,4BAA4B;YACtD,YAAY;YACZ,UAAU;YACV;QACF;IACF;IAEA,4CAA4C;IAC5C,MAAM,eAAe,SAAS;IAE9B,iBAAiB;IACjB,MAAM,iBAAiB,cAAc,UAAU,iBAAiB,cAAc,YAAY,mBAAmB,cAAc,SAAS,gBAAgB,cAAc,SAAS,gBAAgB;IAC3L,MAAM,cAAc;QAClB,KAAK;QACL,KAAK,OAAO;QACZ,WAAW,GAAG,UAAU,CAAC,EAAE,gBAAgB,CAAC,IAAI;QAChD;QACA;QACA;QACA,SAAS;QACT,SAAS,WAAY,UAAqB;QAC1C,OAAO;IACT;IAEA,IAAI,MAAM;QACR,qBAAO,8OAAC,wIAAK;YAAE,GAAG,WAAW;YAAE,KAAK,OAAO;YAAI,IAAI;;;;;;IACrD;IAEA,IAAI,CAAC,SAAS,CAAC,QAAQ;QACrB,8DAA8D;QAC9D,MAAM,eAAe,SAAS;QAC9B,MAAM,gBAAgB,UAAU,AAAC,eAAe,IAAK;QACrD,qBAAO,8OAAC,wIAAK;YAAE,GAAG,WAAW;YAAE,KAAK,OAAO;YAAI,OAAO;YAAc,QAAQ;;;;;;IAC9E;IAEA,qBAAO,8OAAC,wIAAK;QAAE,GAAG,WAAW;QAAE,KAAK,OAAO;QAAI,OAAO;QAAO,QAAQ;;;;;;AACvE"}},
    {"offset": {"line": 631, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/products/components/ProductCard.tsx"],"sourcesContent":["/**\n * Card produit avec bouton \"Ajouter au panier\"\n */\n'use client';\n\nimport { AddToCartButton } from '@/components/AddToCartButton';\nimport { OptimizedImage } from '@/components/OptimizedImage';\nimport Link from 'next/link';\n\nexport interface Product {\n  id: string;\n  title: string;\n  description: string | null;\n  price: number;\n  category: string | null;\n  stock: number;\n  images: string[];\n  tags: string[];\n  created_at: string;\n  updated_at: string;\n  is_deleted: boolean;\n}\n\ninterface ProductCardProps {\n  product: Product;\n}\n\nexport function ProductCard({ product }: ProductCardProps) {\n  return (\n    <div className=\"group glass border border-neon-cyan/20 hover:border-neon-cyan rounded-xl overflow-hidden h-full flex flex-col transition-all duration-300 hover:shadow-neon-cyan transform hover:scale-[1.02]\">\n      {/* Image */}\n      <Link href={`/products/${product.id}`} className=\"relative w-full h-80 bg-gradient-to-br from-tech-light to-tech-darker overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-br from-neon-cyan/10 via-neon-green/10 to-neon-blue/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"></div>\n        <OptimizedImage\n          src={product.images[0] || '/placeholder-product.jpg'}\n          alt={product.title}\n          fill\n          className=\"group-hover:scale-110 transition-transform duration-700\"\n          sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\"\n          objectFit=\"cover\"\n        />\n        <div className=\"absolute top-3 right-3 flex items-center gap-2\">\n          {product.stock === 0 && (\n            <div className=\"glass-strong border border-red-500/50 text-red-400 px-3 py-1.5 rounded-full text-xs font-bold neon-text\">\n              Rupture\n            </div>\n          )}\n          {product.stock > 0 && product.stock < 5 && (\n            <div className=\"glass-strong border border-neon-purple/50 text-neon-purple px-3 py-1.5 rounded-full text-xs font-bold\">\n              Stock limité\n            </div>\n          )}\n        </div>\n        {/* Hover overlay effect */}\n        <div className=\"absolute inset-0 bg-gradient-to-t from-tech-dark/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n      </Link>\n\n      {/* Content */}\n      <div className=\"p-6 flex flex-col flex-grow bg-tech-light/50\">\n        <h3 className=\"font-semibold text-lg line-clamp-2 leading-tight mb-2 text-gray-200 group-hover:text-neon-cyan transition-colors\">\n          {product.title}\n        </h3>\n        {product.description && (\n          <p className=\"text-sm text-gray-400 line-clamp-2 mb-4 flex-grow\">\n            {product.description}\n          </p>\n        )}\n        <div className=\"flex items-center justify-between mb-4\">\n          <span className=\"text-3xl font-bold bg-gradient-to-r from-neon-cyan via-neon-green to-neon-blue bg-clip-text text-transparent\">\n            {product.price.toFixed(2)}€\n          </span>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-2 h-2 bg-neon-green rounded-full animate-pulse-neon\"></div>\n            <span className=\"text-sm text-gray-400\">\n              {product.stock > 0 ? `${product.stock} en stock` : 'Épuisé'}\n            </span>\n          </div>\n        </div>\n        <AddToCartButton product={product} className=\"w-full\" />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;AAGD;AACA;AACA;AAJA;;;;;AAwBO,SAAS,YAAY,EAAE,OAAO,EAAoB;IACvD,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC,uKAAI;gBAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;gBAAE,WAAU;;kCAC/C,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC,+IAAc;wBACb,KAAK,QAAQ,MAAM,CAAC,EAAE,IAAI;wBAC1B,KAAK,QAAQ,KAAK;wBAClB,IAAI;wBACJ,WAAU;wBACV,OAAM;wBACN,WAAU;;;;;;kCAEZ,8OAAC;wBAAI,WAAU;;4BACZ,QAAQ,KAAK,KAAK,mBACjB,8OAAC;gCAAI,WAAU;0CAA0G;;;;;;4BAI1H,QAAQ,KAAK,GAAG,KAAK,QAAQ,KAAK,GAAG,mBACpC,8OAAC;gCAAI,WAAU;0CAAwG;;;;;;;;;;;;kCAM3H,8OAAC;wBAAI,WAAU;;;;;;;;;;;;0BAIjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCACX,QAAQ,KAAK;;;;;;oBAEf,QAAQ,WAAW,kBAClB,8OAAC;wBAAE,WAAU;kCACV,QAAQ,WAAW;;;;;;kCAGxB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;oCACb,QAAQ,KAAK,CAAC,OAAO,CAAC;oCAAG;;;;;;;0CAE5B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAK,WAAU;kDACb,QAAQ,KAAK,GAAG,IAAI,GAAG,QAAQ,KAAK,CAAC,SAAS,CAAC,GAAG;;;;;;;;;;;;;;;;;;kCAIzD,8OAAC,iJAAe;wBAAC,SAAS;wBAAS,WAAU;;;;;;;;;;;;;;;;;;AAIrD"}},
    {"offset": {"line": 799, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/utils/api.ts"],"sourcesContent":["/**\n * Utilitaires API partagés\n * ⚠️ DEPRECATED: Utiliser lib/api/client.ts (apiClient, apiGet, apiPost, etc.) pour timeouts et meilleure gestion erreurs\n */\nexport const API_URL = (process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api').replace(/\\/$/, '');\n\n// Vérifier que l'URL est correcte en dev\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\n  console.log('[API] URL configurée:', API_URL);\n}\n\n/**\n * @deprecated Utiliser apiClient/apiGet/apiPost depuis lib/api/client.ts pour timeouts et meilleure gestion erreurs\n */\nexport async function fetchAPI<T>(endpoint: string, options?: RequestInit & { timeout?: number }): Promise<T> {\n  const { timeout = 30000, ...restOptions } = options || {};\n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), timeout);\n\n  try {\n    const response = await fetch(`${API_URL}${endpoint}`, {\n      ...restOptions,\n      signal: controller.signal,\n      headers: {\n        'Content-Type': 'application/json',\n        ...restOptions?.headers,\n      },\n      credentials: 'include',\n    });\n\n    clearTimeout(timeoutId);\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({\n        message: `API Error: ${response.status} ${response.statusText}`\n      }));\n      throw new Error(errorData.message || errorData.error || `API Error: ${response.status}`);\n    }\n\n    return response.json();\n  } catch (error: any) {\n    clearTimeout(timeoutId);\n\n    // Gérer timeout\n    if (error.name === 'AbortError' || controller.signal.aborted) {\n      throw new Error(\n        `La requête a pris trop de temps (${Math.round(timeout / 1000)}s). Veuillez réessayer.`\n      );\n    }\n\n    // Améliorer le message d'erreur pour \"Failed to fetch\"\n    if (error.message === 'Failed to fetch' || error.name === 'TypeError') {\n      throw new Error(`Impossible de se connecter au serveur. Vérifiez votre connexion internet ou que le backend est démarré.`);\n    }\n    throw error;\n  }\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AACM,MAAM,UAAU,CAAC,iEAAmC,2BAA2B,EAAE,OAAO,CAAC,OAAO;AAEvG,yCAAyC;AACzC;;AAOO,eAAe,SAAY,QAAgB,EAAE,OAA4C;IAC9F,MAAM,EAAE,UAAU,KAAK,EAAE,GAAG,aAAa,GAAG,WAAW,CAAC;IACxD,MAAM,aAAa,IAAI;IACvB,MAAM,YAAY,WAAW,IAAM,WAAW,KAAK,IAAI;IAEvD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,UAAU,UAAU,EAAE;YACpD,GAAG,WAAW;YACd,QAAQ,WAAW,MAAM;YACzB,SAAS;gBACP,gBAAgB;gBAChB,GAAG,aAAa,OAAO;YACzB;YACA,aAAa;QACf;QAEA,aAAa;QAEb,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;oBACnD,SAAS,CAAC,WAAW,EAAE,SAAS,MAAM,CAAC,CAAC,EAAE,SAAS,UAAU,EAAE;gBACjE,CAAC;YACD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,UAAU,KAAK,IAAI,CAAC,WAAW,EAAE,SAAS,MAAM,EAAE;QACzF;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAY;QACnB,aAAa;QAEb,gBAAgB;QAChB,IAAI,MAAM,IAAI,KAAK,gBAAgB,WAAW,MAAM,CAAC,OAAO,EAAE;YAC5D,MAAM,IAAI,MACR,CAAC,iCAAiC,EAAE,KAAK,KAAK,CAAC,UAAU,MAAM,uBAAuB,CAAC;QAE3F;QAEA,uDAAuD;QACvD,IAAI,MAAM,OAAO,KAAK,qBAAqB,MAAM,IAAI,KAAK,aAAa;YACrE,MAAM,IAAI,MAAM,CAAC,uGAAuG,CAAC;QAC3H;QACA,MAAM;IACR;AACF"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/lib/hooks/useProducts.ts"],"sourcesContent":["/**\n * Hook pour récupérer les produits avec cache SWR\n */\n'use client';\n\nimport { API_URL } from '@/lib/utils/api';\nimport useSWR from 'swr';\n\nexport interface Product {\n  id: string;\n  title: string;\n  description: string | null;\n  price: number;\n  category: string | null;\n  stock: number;\n  images: string[];\n  tags: string[];\n  created_at: string;\n  updated_at: string;\n  is_deleted: boolean;\n}\n\ninterface ProductsResponse {\n  products: Product[];\n  pagination?: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nconst fetcher = async (url: string): Promise<ProductsResponse> => {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Erreur lors du chargement des produits');\n  }\n  const data = await response.json();\n  // Gérer les deux formats de réponse possibles\n  if (Array.isArray(data)) {\n    return { products: data };\n  }\n  return data;\n};\n\nexport function useProducts(options?: {\n  limit?: number;\n  sort?: string;\n  category?: string;\n  search?: string;\n  page?: number;\n  price_min?: string;\n  price_max?: string;\n  stock?: string;\n  stock_status?: string;\n  tags?: string;\n}) {\n  const params = new URLSearchParams();\n  if (options?.limit) params.append('limit', options.limit.toString());\n  if (options?.sort) params.append('sort', options.sort);\n  if (options?.category) params.append('category', options.category);\n  if (options?.search) params.append('search', options.search);\n  if (options?.page) params.append('page', options.page.toString());\n  if (options?.price_min) params.append('price_min', options.price_min);\n  if (options?.price_max) params.append('price_max', options.price_max);\n  if (options?.stock) params.append('stock', options.stock);\n  if (options?.stock_status) params.append('stock_status', options.stock_status);\n  if (options?.tags) params.append('tags', options.tags);\n\n  const endpoint = params.toString()\n    ? `${API_URL}/products?${params.toString()}`\n    : `${API_URL}/products`;\n\n  const { data, error, isLoading, mutate } = useSWR<ProductsResponse>(\n    endpoint,\n    fetcher,\n    {\n      revalidateOnFocus: false, // Ne pas revalider automatiquement au focus\n      revalidateOnReconnect: true, // Revalider après reconnexion\n      dedupingInterval: 5000, // Déduplication des requêtes pendant 5s\n      refreshInterval: 0, // Pas de refresh automatique\n    }\n  );\n\n  return {\n    products: data?.products || [],\n    pagination: data?.pagination,\n    isLoading,\n    isError: !!error,\n    error: error?.message,\n    mutate, // Permet de revalider manuellement\n    revalidate: mutate, // Alias pour compatibilité\n  };\n}\n\nexport function useFeaturedProducts(limit: number = 8) {\n  return useProducts({ limit, sort: 'popular' });\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AAGD;AACA;AAHA;;;AA6BA,MAAM,UAAU,OAAO;IACrB,MAAM,WAAW,MAAM,MAAM;IAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IACA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,8CAA8C;IAC9C,IAAI,MAAM,OAAO,CAAC,OAAO;QACvB,OAAO;YAAE,UAAU;QAAK;IAC1B;IACA,OAAO;AACT;AAEO,SAAS,YAAY,OAW3B;IACC,MAAM,SAAS,IAAI;IACnB,IAAI,SAAS,OAAO,OAAO,MAAM,CAAC,SAAS,QAAQ,KAAK,CAAC,QAAQ;IACjE,IAAI,SAAS,MAAM,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI;IACrD,IAAI,SAAS,UAAU,OAAO,MAAM,CAAC,YAAY,QAAQ,QAAQ;IACjE,IAAI,SAAS,QAAQ,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM;IAC3D,IAAI,SAAS,MAAM,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI,CAAC,QAAQ;IAC9D,IAAI,SAAS,WAAW,OAAO,MAAM,CAAC,aAAa,QAAQ,SAAS;IACpE,IAAI,SAAS,WAAW,OAAO,MAAM,CAAC,aAAa,QAAQ,SAAS;IACpE,IAAI,SAAS,OAAO,OAAO,MAAM,CAAC,SAAS,QAAQ,KAAK;IACxD,IAAI,SAAS,cAAc,OAAO,MAAM,CAAC,gBAAgB,QAAQ,YAAY;IAC7E,IAAI,SAAS,MAAM,OAAO,MAAM,CAAC,QAAQ,QAAQ,IAAI;IAErD,MAAM,WAAW,OAAO,QAAQ,KAC5B,GAAG,8HAAO,CAAC,UAAU,EAAE,OAAO,QAAQ,IAAI,GAC1C,GAAG,8HAAO,CAAC,SAAS,CAAC;IAEzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,IAAA,yKAAM,EAC/C,UACA,SACA;QACE,mBAAmB;QACnB,uBAAuB;QACvB,kBAAkB;QAClB,iBAAiB;IACnB;IAGF,OAAO;QACL,UAAU,MAAM,YAAY,EAAE;QAC9B,YAAY,MAAM;QAClB;QACA,SAAS,CAAC,CAAC;QACX,OAAO,OAAO;QACd;QACA,YAAY;IACd;AACF;AAEO,SAAS,oBAAoB,QAAgB,CAAC;IACnD,OAAO,YAAY;QAAE;QAAO,MAAM;IAAU;AAC9C"}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///home/klozta/Projet-Lune/zenflow-site/frontend/app/components/FeaturedProducts.tsx"],"sourcesContent":["/**\n * Composant produits en vedette pour la page d'accueil\n * Optimisé avec SWR pour le cache et la gestion d'état\n */\n'use client';\n\nimport { ProductCard } from '@/app/products/components/ProductCard';\nimport { LoadingSpinner } from '@/components/LoadingSpinner';\nimport { useFeaturedProducts } from '@/lib/hooks/useProducts';\nimport Link from 'next/link';\n\nexport function FeaturedProducts() {\n  const { products, isLoading, isError, error } = useFeaturedProducts(8);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center py-12\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  if (isError) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-red-600 dark:text-red-400 mb-4\">{error || 'Erreur lors du chargement des produits'}</p>\n        <Link\n          href=\"/products\"\n          className=\"inline-block px-8 py-4 bg-white dark:bg-gray-800 border-2 border-primary-300 dark:border-primary-700 text-primary-600 dark:text-primary-400 font-bold rounded-lg hover:border-primary-500 dark:hover:border-primary-500 transition-all transform hover:scale-105\"\n        >\n          Voir tous les produits\n        </Link>\n      </div>\n    );\n  }\n\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-12\">\n        <p className=\"text-gray-600 dark:text-gray-400 mb-4\">Aucun produit disponible pour le moment</p>\n        <Link\n          href=\"/products\"\n          className=\"inline-block px-8 py-4 bg-white dark:bg-gray-800 border-2 border-primary-300 dark:border-primary-700 text-primary-600 dark:text-primary-400 font-bold rounded-lg hover:border-primary-500 dark:hover:border-primary-500 transition-all transform hover:scale-105\"\n        >\n          Voir tous les produits\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {products.slice(0, 8).map((product) => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;AAGD;AACA;AACA;AACA;AALA;;;;;;AAOO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,kJAAmB,EAAC;IAEpE,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,+IAAc;;;;;;;;;;IAGrB;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAAuC,SAAS;;;;;;8BAC7D,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;IAKP;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAE,WAAU;8BAAwC;;;;;;8BACrD,8OAAC,uKAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;IAKP;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,SAAS,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,wBACzB,8OAAC,4JAAW;gBAAkB,SAAS;eAArB,QAAQ,EAAE;;;;;;;;;;AAIpC"}}]
}